<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- Module      : Data.HFunctor.Route</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Copyright   : (c) Justin Le 2019</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- License     : BSD3</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer  : justin@jle.im</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Portability : non-portable</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- This module contains the useful combinators 'Pre' and 'Post', which</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- enhances a functor with a &quot;route&quot; to and from the outside world; even if</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- the functor itself is existentially closed in a functor combinator, the</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- route will provide line to the outside world for extraction or</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- injection.</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- See 'Pre' and 'Post' for more information.</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- @since 0.3.4.0</span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.HFunctor.Route</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Routing Combinators</span></span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Contravariant</span></span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier">Pre</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier">interpretPre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#getPre"><span class="hs-identifier">getPre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#retractPre"><span class="hs-identifier">retractPre</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#injectPre"><span class="hs-identifier">injectPre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#mapPre"><span class="hs-identifier">mapPre</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preDivisible"><span class="hs-identifier">preDivisible</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preDivise"><span class="hs-identifier">preDivise</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preContravariant"><span class="hs-identifier">preContravariant</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Covariant</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier">Post</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier">interpretPost</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#getPost"><span class="hs-identifier">getPost</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#retractPost"><span class="hs-identifier">retractPost</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#injectPost"><span class="hs-identifier">injectPost</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier">mapPost</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postPlus"><span class="hs-identifier">postPlus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postAlt"><span class="hs-identifier">postAlt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postFunctor"><span class="hs-identifier">postFunctor</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Wrapped Invariant</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Contravariant</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier">PreT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preDivisibleT"><span class="hs-identifier">preDivisibleT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preDiviseT"><span class="hs-identifier">preDiviseT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#preContravariantT"><span class="hs-identifier">preContravariantT</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Covariant</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier">PostT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postPlusT"><span class="hs-identifier">postPlusT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postAltT"><span class="hs-identifier">postAltT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#postFunctorT"><span class="hs-identifier">postFunctorT</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Natural</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Invariant.Inplicative.html"><span class="hs-identifier">Data.Functor.Invariant.Inplicative</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html"><span class="hs-identifier">Data.Functor.Invariant.Internative</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Bind</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Conclude.html"><span class="hs-identifier">Data.Functor.Contravariant.Conclude</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Decide.html"><span class="hs-identifier">Data.Functor.Contravariant.Decide</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html"><span class="hs-identifier">Data.Functor.Contravariant.Divise</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant.Divisible</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Invariant</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Plus</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.html"><span class="hs-identifier">Data.HFunctor</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.HTraversable.html"><span class="hs-identifier">Data.HFunctor.HTraversable</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.Interpret.html"><span class="hs-identifier">Data.HFunctor.Interpret</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Profunctor</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | A useful helper type to use with a covariant functor combinator that</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- allows you to tag along contravariant access to all @f@s inside the</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- combinator.</span><span>
</span><span id="line-60"></span><span class="hs-comment">--</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- Maybe most usefully, it can be used with 'Ap'.  Remember that @'Ap' f a@</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- is a collection of @f x@s, with each x existentially wrapped.  Now, for</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- a @'Ap' (Pre a f) a@, it will be a collection of @f x@ and @a -&gt; x@s:</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- not only each individual part, but a way to &quot;select&quot; that individual</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- part from the overal @a@.</span><span>
</span><span id="line-66"></span><span class="hs-comment">--</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- So, you can imagine @'Ap' ('Pre' a f) b@ as a collection of @f x@ that</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- consumes @a@ and produces @b@.</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- When @a@ and @b@ are the same, @'Ap' ('Pre' a f) a@ is like the free</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- invariant sequencer.  That is, in a sense, @'Ap' ('Pre' a f) a@ contains</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- both contravariant and covariant sequences side-by-side, /consuming/</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- @a@s and also /producing/ @a@s.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- You can build up these values with 'injectPre', and then use whatever</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- typeclasses your @t@ normally supports to build it up, like</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- 'Applicative' (for 'Ap').  You can then interpret it into both its</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- contravariant and covariant contexts:</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- -- interpret the covariant part</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- runCovariant :: 'Applicative' g =&gt; (f ~&gt; g) -&gt; Ap (Pre a f) a -&gt; g a</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- runCovariant f = interpret (f . getPre)</span><span>
</span><span id="line-84"></span><span class="hs-comment">--</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- -- interpret the contravariant part</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- runContravariant :: 'Divisible' g =&gt; (f ~&gt; g) -&gt; Ap (Pre a f) a -&gt; g a</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- runContravariant = preDivisible</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- The 'PreT' type wraps up @'Ap' ('Pre' a f) a@ into a type @'PreT' 'Ap'</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- f a@, with nice instances/helpers.</span><span>
</span><span id="line-92"></span><span class="hs-comment">--</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- An example of a usage of this in the real world is the /unjson/</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- library's record type constructor, to implement bidrectional</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- serializers for product types.</span><span>
</span><span id="line-96"></span><span class="hs-keyword">data</span><span> </span><span id="Pre"><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-var">Pre</span></a></span></span><span>  </span><span id="local-6989586621679638703"><span class="annot"><a href="#local-6989586621679638703"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679638701"><span class="annot"><a href="#local-6989586621679638701"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638702"><span class="annot"><a href="#local-6989586621679638702"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638703"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638702"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span id="%3A%3E%24%3C%3A"><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679638701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638702"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679638028"><span id="local-6989586621679638030"><span class="annot"><span class="annottext">a -&gt; Pre a f b -&gt; Pre a f a
(a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b
(forall a b. (a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b)
-&gt; (forall a b. a -&gt; Pre a f b -&gt; Pre a f a) -&gt; Functor (Pre a f)
forall a b. a -&gt; Pre a f b -&gt; Pre a f a
forall a b. (a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b
forall a (f :: * -&gt; *) a b.
Functor f =&gt;
a -&gt; Pre a f b -&gt; Pre a f a
forall a (f :: * -&gt; *) a b.
Functor f =&gt;
(a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; Pre a f b -&gt; Pre a f a
$c&lt;$ :: forall a (f :: * -&gt; *) a b.
Functor f =&gt;
a -&gt; Pre a f b -&gt; Pre a f a
fmap :: (a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b
$cfmap :: forall a (f :: * -&gt; *) a b.
Functor f =&gt;
(a -&gt; b) -&gt; Pre a f a -&gt; Pre a f b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- | A useful helper type to use with a contravariant functor combinator that</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- allows you to tag along covariant access to all @f@s inside the</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- combinator.</span><span>
</span><span id="line-103"></span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- Maybe most usefully, it can be used with 'Dec'.  Remember that @'Dec' f a@</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- is a collection of @f x@s, with each x existentially wrapped.  Now, for</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- a @'Dec' (Post a f) a@, it will be a collection of @f x@ and @x -&gt; a@s:</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- not only each individual part, but a way to &quot;re-embed&quot; that individual</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- part into overal @a@.</span><span>
</span><span id="line-109"></span><span class="hs-comment">--</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- So, you can imagine @'Dec' ('Post' a f) b@ as a collection of @f x@ that</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- consumes @b@ and produces @a@.</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- When @a@ and @b@ are the same, @'Dec' ('Post' a f) a@ is like the free</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- invariant sequencer.  That is, in a sense, @'Dec' ('Post' a f) a@ contains</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- both contravariant and covariant sequences side-by-side, /consuming/</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- @a@s and also /producing/ @a@s.</span><span>
</span><span id="line-117"></span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- You can build up these values with 'injectPre', and then use whatever</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- typeclasses your @t@ normally supports to build it up, like</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- 'Conclude' (for 'Div').  You can then interpret it into both its</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- contravariant and covariant contexts:</span><span>
</span><span id="line-122"></span><span class="hs-comment">--</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- -- interpret the covariant part</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- runCovariant :: 'Plus' g =&gt; (f ~&gt; g) -&gt; Div (Post a f) a -&gt; g a</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- runCovariant f = interpret (f . getPost)</span><span>
</span><span id="line-127"></span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- -- interpret the contravariant part</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- runContravariant :: 'Conclude' g =&gt; (f ~&gt; g) -&gt; Div (Post a f) a -&gt; g a</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- runContravariant = preDivisible</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-132"></span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- The 'PostT' type wraps up @'Dec' ('Post' a f) a@ into a type @'PostT'</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- 'Dec'</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- f a@, with nice instances/helpers.</span><span>
</span><span id="line-136"></span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- An example of a usage of this in the real world is a possible</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- implementation of the /unjson/ library's sum type constructor, to</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- implement bidrectional serializers for sum types.</span><span>
</span><span id="line-140"></span><span class="hs-keyword">data</span><span> </span><span id="Post"><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-var">Post</span></a></span></span><span> </span><span id="local-6989586621679638746"><span class="annot"><a href="#local-6989586621679638746"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679638745"><span class="annot"><a href="#local-6989586621679638745"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638747"><span class="annot"><a href="#local-6989586621679638747"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638747"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638746"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span id="%3A%3C%24%3E%3A"><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679638745"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638747"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span id="local-6989586621679638024"><span id="local-6989586621679638025"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679638021"><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679638025"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638024"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638025"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>    </span><span id="local-6989586621679638019"><span class="annot"><span class="annottext">contramap :: (a -&gt; b) -&gt; Post a f b -&gt; Post a f a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">contramap</span></span></span><span> </span><span id="local-6989586621679638017"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679638017"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679638016"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679638016"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679638015"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679638015"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679638016"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; (a -&gt; b) -&gt; a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679638017"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; f a -&gt; Post a f a
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; f b -&gt; f a
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679638017"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679638015"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span>
</span><span id="line-146"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">4</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">-- | Turn the covariant functor combinator @t@ into an 'Invariant'</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- functor combinator; if @t f a@ &quot;produces&quot; @a@s, then @'PreT' t f a@ will</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- both consume and produce @a@s.</span><span>
</span><span id="line-151"></span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- You can run this normally as if it were a @t f a@ by using 'interpret';</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- however, you can also interpret into covariant contexts with</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- 'preDivisibleT', 'preDiviseT', and 'preContravariantT'.</span><span>
</span><span id="line-155"></span><span class="hs-comment">--</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- A useful way to use this type is to use normal methods of the underlying</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- @t@ to assemble a final @t@, then using the 'PreT' constructor to wrap</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- it all up.</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- data MyType = MyType</span><span>
</span><span id="line-162"></span><span class="hs-comment">--      { mtInt    :: Int</span><span>
</span><span id="line-163"></span><span class="hs-comment">--      , mtBool   :: Bool</span><span>
</span><span id="line-164"></span><span class="hs-comment">--      , mtString :: String</span><span>
</span><span id="line-165"></span><span class="hs-comment">--      }</span><span>
</span><span id="line-166"></span><span class="hs-comment">--</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- myThing :: PreT Ap MyFunctor MyType</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- myThing = PreT $ MyType</span><span>
</span><span id="line-169"></span><span class="hs-comment">--     &lt;$&gt; injectPre mtInt    (mfInt    :: MyFunctor Int   )</span><span>
</span><span id="line-170"></span><span class="hs-comment">--     &lt;*&gt; injectPre mtBool   (mfBool   :: MyFunctor Bool  )</span><span>
</span><span id="line-171"></span><span class="hs-comment">--     &lt;*&gt; injectPre mtString (mfString :: MyFunctor STring)</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-173"></span><span class="hs-comment">--</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- See 'Pre' for more information.</span><span>
</span><span id="line-175"></span><span class="hs-keyword">newtype</span><span> </span><span id="PreT"><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span></span><span> </span><span id="local-6989586621679638730"><span class="annot"><a href="#local-6989586621679638730"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679638728"><span class="annot"><a href="#local-6989586621679638728"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638729"><span class="annot"><a href="#local-6989586621679638729"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PreT"><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unPreT"><span class="annot"><span class="annottext">PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638730"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638729"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638728"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638729"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span id="local-6989586621679638010"><span id="local-6989586621679638011"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638011"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638733"><span class="annot"><a href="#local-6989586621679638733"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638011"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638733"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638010"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638011"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638010"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>    </span><span id="local-6989586621679638007"><span class="annot"><span class="annottext">invmap :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; PreT t f a -&gt; PreT t f b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">invmap</span></span></span><span> </span><span id="local-6989586621679638005"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679638005"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679638004"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679638004"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre b f) b -&gt; PreT t f b
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Pre a f) a -&gt; PreT t f a
</span><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span><span>
</span><span id="line-179"></span><span>               </span><span class="annot"><span class="annottext">(t (Pre b f) b -&gt; PreT t f b)
-&gt; (PreT t f a -&gt; t (Pre b f) b) -&gt; PreT t f a -&gt; PreT t f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Pre a f ~&gt; Pre b f) -&gt; t (Pre a f) ~&gt; t (Pre b f)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; Pre a f x -&gt; Pre b f x
forall c a (f :: * -&gt; *) b. (c -&gt; a) -&gt; Pre a f b -&gt; Pre c f b
</span><a href="Data.HFunctor.Route.html#mapPre"><span class="hs-identifier hs-var">mapPre</span></a></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679638004"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>               </span><span class="annot"><span class="annottext">(t (Pre a f) b -&gt; t (Pre b f) b)
-&gt; (PreT t f a -&gt; t (Pre a f) b) -&gt; PreT t f a -&gt; t (Pre b f) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; t (Pre a f) a -&gt; t (Pre a f) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679638005"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-181"></span><span>               </span><span class="annot"><span class="annottext">(t (Pre a f) a -&gt; t (Pre a f) b)
-&gt; (PreT t f a -&gt; t (Pre a f) a) -&gt; PreT t f a -&gt; t (Pre a f) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f a -&gt; t (Pre a f) a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span></span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span id="local-6989586621679638002"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638002"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638002"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621679637999"><span class="annot"><span class="annottext">hmap :: (f ~&gt; g) -&gt; PreT t f ~&gt; PreT t g
</span><a href="#local-6989586621679637999"><span class="hs-identifier hs-var hs-var hs-var hs-var">hmap</span></a></span></span><span> </span><span id="local-6989586621679637998"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637998"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre x g) x -&gt; PreT t g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Pre a f) a -&gt; PreT t f a
</span><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x g) x -&gt; PreT t g x)
-&gt; (PreT t f x -&gt; t (Pre x g) x) -&gt; PreT t f x -&gt; PreT t g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Pre x f ~&gt; Pre x g) -&gt; t (Pre x f) ~&gt; t (Pre x g)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Pre x f ~&gt; Pre x g
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637998"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (Pre x f) x -&gt; t (Pre x g) x)
-&gt; (PreT t f x -&gt; t (Pre x f) x) -&gt; PreT t f x -&gt; t (Pre x g) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f x -&gt; t (Pre x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span id="local-6989586621679637997"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637997"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637997"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679637993"><span class="annot"><span class="annottext">inject :: f x -&gt; PreT t f x
</span><a href="Data.HFunctor.html#inject"><span class="hs-identifier hs-var hs-var hs-var hs-var">inject</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre x f) x -&gt; PreT t f x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Pre a f) a -&gt; PreT t f a
</span><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x f) x -&gt; PreT t f x)
-&gt; (f x -&gt; t (Pre x f) x) -&gt; f x -&gt; PreT t f x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pre x f x -&gt; t (Pre x f) x
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *).
Inject t =&gt;
f ~&gt; t f
</span><a href="Data.HFunctor.html#inject"><span class="hs-identifier hs-var">inject</span></a></span><span> </span><span class="annot"><span class="annottext">(Pre x f x -&gt; t (Pre x f) x)
-&gt; (f x -&gt; Pre x f x) -&gt; f x -&gt; t (Pre x f) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; x
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(x -&gt; x) -&gt; f x -&gt; Pre x f x
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span id="local-6989586621679637990"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637990"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637990"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621679637986"><span class="annot"><span class="annottext">htraverse :: (forall x. f x -&gt; h (g x)) -&gt; PreT t f a -&gt; h (PreT t g a)
</span><a href="Data.HFunctor.HTraversable.html#htraverse"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span id="local-6989586621679637984"><span class="annot"><span class="annottext">f :: forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637984"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t (Pre a g) a -&gt; PreT t g a)
-&gt; h (t (Pre a g) a) -&gt; h (PreT t g a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">t (Pre a g) a -&gt; PreT t g a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Pre a f) a -&gt; PreT t f a
</span><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-var">PreT</span></a></span><span> </span><span class="annot"><span class="annottext">(h (t (Pre a g) a) -&gt; h (PreT t g a))
-&gt; (PreT t f a -&gt; h (t (Pre a g) a))
-&gt; PreT t f a
-&gt; h (PreT t g a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Pre a f x -&gt; h (Pre a g x))
-&gt; t (Pre a f) a -&gt; h (t (Pre a g) a)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (h :: * -&gt; *) (f :: k -&gt; *)
       (g :: k -&gt; *) (a :: k).
(HTraversable t, Applicative h) =&gt;
(forall (x :: k). f x -&gt; h (g x)) -&gt; t f a -&gt; h (t g a)
</span><a href="Data.HFunctor.HTraversable.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. f x -&gt; h (g x)) -&gt; Pre a f x -&gt; h (Pre a g x)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (h :: * -&gt; *) (f :: k -&gt; *)
       (g :: k -&gt; *) (a :: k).
(HTraversable t, Applicative h) =&gt;
(forall (x :: k). f x -&gt; h (g x)) -&gt; t f a -&gt; h (t g a)
</span><a href="Data.HFunctor.HTraversable.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637984"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (Pre a f) a -&gt; h (t (Pre a g) a))
-&gt; (PreT t f a -&gt; t (Pre a f) a) -&gt; PreT t f a -&gt; h (t (Pre a g) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f a -&gt; t (Pre a f) a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span></span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span id="local-6989586621679637982"><span id="local-6989586621679637983"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637979"><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637983"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637982"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637983"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637982"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-193"></span><span>    </span><span id="local-6989586621679637976"><span class="annot"><span class="annottext">interpret :: (g ~&gt; f) -&gt; PreT t g ~&gt; f
</span><a href="Data.HFunctor.Interpret.html#interpret"><span class="hs-identifier hs-var hs-var hs-var hs-var">interpret</span></a></span></span><span> </span><span id="local-6989586621679637974"><span class="annot"><span class="annottext">f :: g ~&gt; f
</span><a href="#local-6989586621679637974"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g ~&gt; f) -&gt; t g ~&gt; f
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><a href="Data.HFunctor.Interpret.html#interpret"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">g ~&gt; f
</span><a href="#local-6989586621679637974"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t g x -&gt; f x) -&gt; (PreT t g x -&gt; t g x) -&gt; PreT t g x -&gt; f x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Pre x g ~&gt; g) -&gt; t (Pre x g) ~&gt; t g
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="annot"><span class="annottext">Pre x g ~&gt; g
forall a (f :: * -&gt; *) b. Pre a f b -&gt; f b
</span><a href="Data.HFunctor.Route.html#getPre"><span class="hs-identifier hs-var">getPre</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x g) x -&gt; t g x)
-&gt; (PreT t g x -&gt; t (Pre x g) x) -&gt; PreT t g x -&gt; t g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t g x -&gt; t (Pre x g) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span></span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | Turn the contravariant functor combinator @t@ into an 'Invariant'</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- functor combinator; if @t f a@ &quot;consumes&quot; @a@s, then @'PostT' t f a@ will</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- both consume and produce @a@s.</span><span>
</span><span id="line-198"></span><span class="hs-comment">--</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- You can run this normally as if it were a @t f a@ by using 'interpret';</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- however, you can also interpret into covariant contexts with</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- 'postPlusT', 'postAltT', and 'postFunctorT'.</span><span>
</span><span id="line-202"></span><span class="hs-comment">--</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- A useful way to use this type is to use normal methods of the underlying</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- @t@ to assemble a final @t@, then using the 'PreT' constructor to wrap</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- it all up.</span><span>
</span><span id="line-206"></span><span class="hs-comment">--</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- myThing :: PostT Dec MyFunctor (Either Int Bool)</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- myThing = PostT $ decided $</span><span>
</span><span id="line-210"></span><span class="hs-comment">--     (injectPost Left  (mfInt  :: MyFunctor Int ))</span><span>
</span><span id="line-211"></span><span class="hs-comment">--     (injectPost Right (mfBool :: MyFunctor Bool))</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-213"></span><span class="hs-comment">--</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- See 'Post' for more information.</span><span>
</span><span id="line-215"></span><span class="hs-keyword">newtype</span><span> </span><span id="PostT"><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span></span><span> </span><span id="local-6989586621679638663"><span class="annot"><a href="#local-6989586621679638663"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679638661"><span class="annot"><a href="#local-6989586621679638661"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638662"><span class="annot"><a href="#local-6989586621679638662"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PostT"><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unPostT"><span class="annot"><span class="annottext">PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638663"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638661"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span id="local-6989586621679637970"><span id="local-6989586621679637971"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637971"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638666"><span class="annot"><a href="#local-6989586621679638666"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637971"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638666"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637970"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637971"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637970"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679637968"><span class="annot"><span class="annottext">invmap :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; PostT t f a -&gt; PostT t f b
</span><a href="#local-6989586621679637968"><span class="hs-identifier hs-var hs-var hs-var hs-var">invmap</span></a></span></span><span> </span><span id="local-6989586621679637967"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637967"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637966"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679637966"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Post b f) b -&gt; PostT t f b
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Post a f) a -&gt; PostT t f a
</span><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span><span>
</span><span id="line-219"></span><span>               </span><span class="annot"><span class="annottext">(t (Post b f) b -&gt; PostT t f b)
-&gt; (PostT t f a -&gt; t (Post b f) b) -&gt; PostT t f a -&gt; PostT t f b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Post a f ~&gt; Post b f) -&gt; t (Post a f) ~&gt; t (Post b f)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Post a f x -&gt; Post b f x
forall a c (f :: * -&gt; *) b. (a -&gt; c) -&gt; Post a f b -&gt; Post c f b
</span><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier hs-var">mapPost</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637967"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-220"></span><span>               </span><span class="annot"><span class="annottext">(t (Post a f) b -&gt; t (Post b f) b)
-&gt; (PostT t f a -&gt; t (Post a f) b) -&gt; PostT t f a -&gt; t (Post b f) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; t (Post a f) a -&gt; t (Post a f) b
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637966"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-221"></span><span>               </span><span class="annot"><span class="annottext">(t (Post a f) a -&gt; t (Post a f) b)
-&gt; (PostT t f a -&gt; t (Post a f) a) -&gt; PostT t f a -&gt; t (Post a f) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f a -&gt; t (Post a f) a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span></span></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-comment">-- | @since 0.3.4.2</span><span>
</span><span id="line-224"></span><span id="local-6989586621679637965"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637965"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637965"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621679637963"><span class="annot"><span class="annottext">hmap :: (f ~&gt; g) -&gt; PostT t f ~&gt; PostT t g
</span><a href="#local-6989586621679637963"><span class="hs-identifier hs-var hs-var hs-var hs-var">hmap</span></a></span></span><span> </span><span id="local-6989586621679637962"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637962"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Post x g) x -&gt; PostT t g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Post a f) a -&gt; PostT t f a
</span><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x g) x -&gt; PostT t g x)
-&gt; (PostT t f x -&gt; t (Post x g) x) -&gt; PostT t f x -&gt; PostT t g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Post x f ~&gt; Post x g) -&gt; t (Post x f) ~&gt; t (Post x g)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Post x f ~&gt; Post x g
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637962"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (Post x f) x -&gt; t (Post x g) x)
-&gt; (PostT t f x -&gt; t (Post x f) x) -&gt; PostT t f x -&gt; t (Post x g) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f x -&gt; t (Post x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- | @since 0.3.4.2</span><span>
</span><span id="line-228"></span><span id="local-6989586621679637961"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637961"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637961"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621679637958"><span class="annot"><span class="annottext">inject :: f x -&gt; PostT t f x
</span><a href="#local-6989586621679637958"><span class="hs-identifier hs-var hs-var hs-var hs-var">inject</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Post x f) x -&gt; PostT t f x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Post a f) a -&gt; PostT t f a
</span><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x f) x -&gt; PostT t f x)
-&gt; (f x -&gt; t (Post x f) x) -&gt; f x -&gt; PostT t f x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Post x f x -&gt; t (Post x f) x
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *).
Inject t =&gt;
f ~&gt; t f
</span><a href="Data.HFunctor.html#inject"><span class="hs-identifier hs-var">inject</span></a></span><span> </span><span class="annot"><span class="annottext">(Post x f x -&gt; t (Post x f) x)
-&gt; (f x -&gt; Post x f x) -&gt; f x -&gt; t (Post x f) x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; x
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(x -&gt; x) -&gt; f x -&gt; Post x f x
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span id="local-6989586621679637957"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637957"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637957"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621679637954"><span class="annot"><span class="annottext">htraverse :: (forall x. f x -&gt; h (g x)) -&gt; PostT t f a -&gt; h (PostT t g a)
</span><a href="#local-6989586621679637954"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span id="local-6989586621679637953"><span class="annot"><span class="annottext">f :: forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637953"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(t (Post a g) a -&gt; PostT t g a)
-&gt; h (t (Post a g) a) -&gt; h (PostT t g a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">t (Post a g) a -&gt; PostT t g a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
t (Post a f) a -&gt; PostT t f a
</span><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-var">PostT</span></a></span><span> </span><span class="annot"><span class="annottext">(h (t (Post a g) a) -&gt; h (PostT t g a))
-&gt; (PostT t f a -&gt; h (t (Post a g) a))
-&gt; PostT t f a
-&gt; h (PostT t g a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Post a f x -&gt; h (Post a g x))
-&gt; t (Post a f) a -&gt; h (t (Post a g) a)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (h :: * -&gt; *) (f :: k -&gt; *)
       (g :: k -&gt; *) (a :: k).
(HTraversable t, Applicative h) =&gt;
(forall (x :: k). f x -&gt; h (g x)) -&gt; t f a -&gt; h (t g a)
</span><a href="Data.HFunctor.HTraversable.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. f x -&gt; h (g x)) -&gt; Post a f x -&gt; h (Post a g x)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (h :: * -&gt; *) (f :: k -&gt; *)
       (g :: k -&gt; *) (a :: k).
(HTraversable t, Applicative h) =&gt;
(forall (x :: k). f x -&gt; h (g x)) -&gt; t f a -&gt; h (t g a)
</span><a href="Data.HFunctor.HTraversable.html#htraverse"><span class="hs-identifier hs-var">htraverse</span></a></span><span> </span><span class="annot"><span class="annottext">forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637953"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (Post a f) a -&gt; h (t (Post a g) a))
-&gt; (PostT t f a -&gt; t (Post a f) a)
-&gt; PostT t f a
-&gt; h (t (Post a g) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f a -&gt; t (Post a f) a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | @since 0.3.4.2</span><span>
</span><span id="line-235"></span><span id="local-6989586621679637951"><span id="local-6989586621679637952"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637948"><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637952"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637951"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637952"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637951"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621679637946"><span class="annot"><span class="annottext">interpret :: (g ~&gt; f) -&gt; PostT t g ~&gt; f
</span><a href="#local-6989586621679637946"><span class="hs-identifier hs-var hs-var hs-var hs-var">interpret</span></a></span></span><span> </span><span id="local-6989586621679637945"><span class="annot"><span class="annottext">f :: g ~&gt; f
</span><a href="#local-6989586621679637945"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g ~&gt; f) -&gt; t g ~&gt; f
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
Interpret t f =&gt;
(g ~&gt; f) -&gt; t g ~&gt; f
</span><a href="Data.HFunctor.Interpret.html#interpret"><span class="hs-identifier hs-var">interpret</span></a></span><span> </span><span class="annot"><span class="annottext">g ~&gt; f
</span><a href="#local-6989586621679637945"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t g x -&gt; f x) -&gt; (PostT t g x -&gt; t g x) -&gt; PostT t g x -&gt; f x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Post x g ~&gt; g) -&gt; t (Post x g) ~&gt; t g
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="annot"><span class="annottext">Post x g ~&gt; g
forall a (f :: * -&gt; *) b. Post a f b -&gt; f b
</span><a href="Data.HFunctor.Route.html#getPost"><span class="hs-identifier hs-var">getPost</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x g) x -&gt; t g x)
-&gt; (PostT t g x -&gt; t (Post x g) x) -&gt; PostT t g x -&gt; t g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t g x -&gt; t (Post x g) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span></span></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- | Run a @'PreT' t@ into a contravariant 'Divisible' context.  To run it</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- in @t@s normal covariant context, use 'interpret'.</span><span>
</span><span id="line-240"></span><span class="hs-comment">--</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- This will work for types where there are a possibly-empty collection of</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-243"></span><span class="hs-comment">--</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- preDivisibleT :: Divisible g =&gt; (f ~&gt; g) -&gt; PreT 'Ap'    f ~&gt; g</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- preDivisibleT :: Divisible g =&gt; (f ~&gt; g) -&gt; PreT 'ListF' f ~&gt; g</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-248"></span><span id="local-6989586621679637942"><span id="local-6989586621679637943"><span id="local-6989586621679637944"><span class="annot"><a href="Data.HFunctor.Route.html#preDivisibleT"><span class="hs-identifier hs-type">preDivisibleT</span></a></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637941"><span class="annot"><a href="#local-6989586621679637941"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679637941"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637944"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637941"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="annot"><a href="#local-6989586621679637943"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637942"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637943"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637944"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637942"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637943"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-252"></span><span id="preDivisibleT"><span class="annot"><span class="annottext">preDivisibleT :: (f ~&gt; g) -&gt; PreT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#preDivisibleT"><span class="hs-identifier hs-var hs-var">preDivisibleT</span></a></span></span><span> </span><span id="local-6989586621679637940"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637940"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Pre x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Monoid m =&gt; Interpret t (AltConst m), Divisible g) =&gt;
(f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preDivisible"><span class="hs-identifier hs-var">preDivisible</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637940"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x f) x -&gt; g x)
-&gt; (PreT t f x -&gt; t (Pre x f) x) -&gt; PreT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f x -&gt; t (Pre x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- | Run a @'PreT' t@ into a contravariant 'Divise' context.  To run it in</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- @t@s normal covariant context, use 'interpret'.</span><span>
</span><span id="line-256"></span><span class="hs-comment">--</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- This will work for types where there is a non-empty collection of</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-259"></span><span class="hs-comment">--</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- preDiviseT :: Divise g =&gt; (f ~&gt; g) -&gt; PreT 'Ap1'       f ~&gt; g</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- preDiviseT :: Divise g =&gt; (f ~&gt; g) -&gt; PreT 'NonEmptyF' f ~&gt; g</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-264"></span><span id="local-6989586621679637937"><span id="local-6989586621679637938"><span id="local-6989586621679637939"><span class="annot"><a href="Data.HFunctor.Route.html#preDiviseT"><span class="hs-identifier hs-type">preDiviseT</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637936"><span class="annot"><a href="#local-6989586621679637936"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679637936"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637939"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637936"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html#Divise"><span class="hs-identifier hs-type">Divise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637938"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637937"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637938"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637939"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637937"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637938"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-268"></span><span id="preDiviseT"><span class="annot"><span class="annottext">preDiviseT :: (f ~&gt; g) -&gt; PreT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#preDiviseT"><span class="hs-identifier hs-var hs-var">preDiviseT</span></a></span></span><span> </span><span id="local-6989586621679637935"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637935"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Pre x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Semigroup m =&gt; Interpret t (AltConst m), Divise g) =&gt;
(f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preDivise"><span class="hs-identifier hs-var">preDivise</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637935"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x f) x -&gt; g x)
-&gt; (PreT t f x -&gt; t (Pre x f) x) -&gt; PreT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f x -&gt; t (Pre x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-comment">-- | Run a @'PreT' t@ into a 'Contravariant'.  To run it in</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- @t@s normal covariant context, use 'interpret'.</span><span>
</span><span id="line-272"></span><span class="hs-comment">--</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- This will work for types where there is exactly one @f@ inside:</span><span>
</span><span id="line-274"></span><span class="hs-comment">--</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-276"></span><span class="hs-comment">-- preContravariantT :: Contravariant g =&gt; (f ~&gt; g) -&gt; PreT 'Step'     f ~&gt; g</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- preContravariantT :: Contravariant g =&gt; (f ~&gt; g) -&gt; PreT 'Coyoneda' f ~&gt; g</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-279"></span><span id="local-6989586621679637932"><span id="local-6989586621679637933"><span id="local-6989586621679637934"><span class="annot"><a href="Data.HFunctor.Route.html#preContravariantT"><span class="hs-identifier hs-type">preContravariantT</span></a></span><span>
</span><span id="line-280"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637931"><span class="annot"><a href="#local-6989586621679637931"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637934"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637931"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679637933"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637932"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637933"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PreT"><span class="hs-identifier hs-type">PreT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637934"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637932"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637933"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-283"></span><span id="preContravariantT"><span class="annot"><span class="annottext">preContravariantT :: (f ~&gt; g) -&gt; PreT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#preContravariantT"><span class="hs-identifier hs-var hs-var">preContravariantT</span></a></span></span><span> </span><span id="local-6989586621679637930"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637930"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Pre x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Interpret t (AltConst m), Contravariant g) =&gt;
(f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preContravariant"><span class="hs-identifier hs-var">preContravariant</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637930"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre x f) x -&gt; g x)
-&gt; (PreT t f x -&gt; t (Pre x f) x) -&gt; PreT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PreT t f x -&gt; t (Pre x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PreT t f a -&gt; t (Pre a f) a
</span><a href="Data.HFunctor.Route.html#unPreT"><span class="hs-identifier hs-var hs-var">unPreT</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="hs-comment">-- | Run a &quot;pre-routed&quot; @t@ into a contravariant 'Divisible' context.  To</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- run it in @t@s normal covariant context, use 'interpret' with 'getPre'.</span><span>
</span><span id="line-287"></span><span class="hs-comment">--</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- This will work for types where there are a possibly-empty collection of</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-290"></span><span class="hs-comment">--</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- preDivisible :: Divisible g =&gt; (f ~&gt; g) -&gt; 'Ap'    ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- preDivisible :: Divisible g =&gt; (f ~&gt; g) -&gt; 'ListF' ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-295"></span><span id="local-6989586621679638622"><span id="local-6989586621679638623"><span id="local-6989586621679638624"><span id="local-6989586621679638626"><span id="local-6989586621679638628"><span class="annot"><a href="Data.HFunctor.Route.html#preDivisible"><span class="hs-identifier hs-type">preDivisible</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638629"><span class="annot"><a href="#local-6989586621679638629"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679638629"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638628"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638629"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="annot"><a href="#local-6989586621679638626"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638624"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638626"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638628"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638623"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638624"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638622"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-299"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638626"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638623"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-300"></span><span id="preDivisible"><span class="annot"><span class="annottext">preDivisible :: (f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preDivisible"><span class="hs-identifier hs-var hs-var">preDivisible</span></a></span></span><span> </span><span id="local-6989586621679637929"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637929"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; g a -&gt; g a) -&gt; g a -&gt; [g a] -&gt; g a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; (a, a)) -&gt; g a -&gt; g a -&gt; g a
forall (f :: * -&gt; *) a b c.
Divisible f =&gt;
(a -&gt; (b, c)) -&gt; f b -&gt; f c -&gt; f a
</span><span class="hs-identifier hs-var">divide</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679637926"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679637926"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679637926"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679637926"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">g a
forall (f :: * -&gt; *) a. Divisible f =&gt; f a
</span><span class="hs-identifier hs-var">conquer</span></span><span>
</span><span id="line-301"></span><span>               </span><span class="annot"><span class="annottext">([g a] -&gt; g a) -&gt; (t (Pre a f) b -&gt; [g a]) -&gt; t (Pre a f) b -&gt; g a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Pre a f x -&gt; g a) -&gt; t (Pre a f) b -&gt; [g a]
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) b (a :: k).
(forall m. Monoid m =&gt; Interpret t (AltConst m)) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; [b]
</span><a href="Data.HFunctor.Interpret.html#icollect"><span class="hs-identifier hs-var">icollect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Pre a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Contravariant g =&gt;
(f ~&gt; g) -&gt; Pre a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier hs-var">interpretPre</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637929"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-comment">-- | Run a &quot;pre-routed&quot; @t@ into a contravariant 'Divise' context.  To</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- run it in @t@s normal covariant context, use 'interpret' with 'getPre'.</span><span>
</span><span id="line-305"></span><span class="hs-comment">--</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- This will work for types where there are is a non-empty collection of</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-308"></span><span class="hs-comment">--</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-310"></span><span class="hs-comment">-- preDivise :: Divise g =&gt; (f ~&gt; g) -&gt; 'Ap1'       ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-311"></span><span class="hs-comment">-- preDivise :: Divise g =&gt; (f ~&gt; g) -&gt; 'NonEmptyF' ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-312"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-313"></span><span id="local-6989586621679638611"><span id="local-6989586621679638612"><span id="local-6989586621679638613"><span id="local-6989586621679638615"><span id="local-6989586621679638616"><span class="annot"><a href="Data.HFunctor.Route.html#preDivise"><span class="hs-identifier hs-type">preDivise</span></a></span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638617"><span class="annot"><a href="#local-6989586621679638617"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679638617"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638616"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638617"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html#Divise"><span class="hs-identifier hs-type">Divise</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638615"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638613"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638615"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638616"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638612"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638613"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638611"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638615"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638612"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-318"></span><span id="preDivise"><span class="annot"><span class="annottext">preDivise :: (f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preDivise"><span class="hs-identifier hs-var hs-var">preDivise</span></a></span></span><span> </span><span id="local-6989586621679637923"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637923"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; g a -&gt; g a) -&gt; NonEmpty (g a) -&gt; g a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; g a -&gt; g a
forall (f :: * -&gt; *) a. Divise f =&gt; f a -&gt; f a -&gt; f a
</span><a href="Data.Functor.Contravariant.Divise.html#%3C%3A%3E"><span class="hs-operator hs-var">(&lt;:&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty (g a) -&gt; g a)
-&gt; (t (Pre a f) b -&gt; NonEmpty (g a)) -&gt; t (Pre a f) b -&gt; g a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Pre a f x -&gt; g a) -&gt; t (Pre a f) b -&gt; NonEmpty (g a)
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) b (a :: k).
(forall m. Semigroup m =&gt; Interpret t (AltConst m)) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; NonEmpty b
</span><a href="Data.HFunctor.Interpret.html#icollect1"><span class="hs-identifier hs-var">icollect1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Pre a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Contravariant g =&gt;
(f ~&gt; g) -&gt; Pre a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier hs-var">interpretPre</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637923"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-comment">-- | Run a &quot;pre-routed&quot; @t@ into a 'Contravariant'.  To run it in @t@s</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- normal covariant context, use 'interpret' with 'getPre'.</span><span>
</span><span id="line-322"></span><span class="hs-comment">--</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- This will work for types where there is exactly one @f@ inside:</span><span>
</span><span id="line-324"></span><span class="hs-comment">--</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- preContravariant :: Contravariant g =&gt; (f ~&gt; g) -&gt; 'Step'     ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- preContravariant :: Contravariant g =&gt; (f ~&gt; g) -&gt; 'Coyoneda' ('Pre' a f) b -&gt; g a</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-329"></span><span id="local-6989586621679638601"><span id="local-6989586621679638602"><span id="local-6989586621679638603"><span id="local-6989586621679638604"><span id="local-6989586621679638606"><span class="annot"><a href="Data.HFunctor.Route.html#preContravariant"><span class="hs-identifier hs-type">preContravariant</span></a></span><span>
</span><span id="line-330"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638605"><span class="annot"><a href="#local-6989586621679638605"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638606"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638605"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679638604"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638603"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638604"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638606"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638602"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638603"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638601"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638604"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638602"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-334"></span><span id="preContravariant"><span class="annot"><span class="annottext">preContravariant :: (f ~&gt; g) -&gt; t (Pre a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#preContravariant"><span class="hs-identifier hs-var hs-var">preContravariant</span></a></span></span><span> </span><span id="local-6989586621679637919"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637919"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. Pre a f x -&gt; g a) -&gt; t (Pre a f) b -&gt; g a
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) b (f :: k -&gt; *) (a :: k).
Interpret t (AltConst b) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; b
</span><a href="Data.HFunctor.Interpret.html#iget"><span class="hs-identifier hs-var">iget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Pre a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Contravariant g =&gt;
(f ~&gt; g) -&gt; Pre a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier hs-var">interpretPre</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637919"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-comment">-- | Run a @'PostT' t@ into a covariant 'Plus' context.  To run it</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-338"></span><span class="hs-comment">--</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- This will work for types where there are a possibly-empty collection of</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-341"></span><span class="hs-comment">--</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- postPlusT :: Plus g =&gt; (f ~&gt; g) -&gt; PreT 'Dec' f ~&gt; g</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- postPlusT :: Plus g =&gt; (f ~&gt; g) -&gt; PreT 'Div' f ~&gt; g</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-346"></span><span id="local-6989586621679637915"><span id="local-6989586621679637916"><span id="local-6989586621679637917"><span class="annot"><a href="Data.HFunctor.Route.html#postPlusT"><span class="hs-identifier hs-type">postPlusT</span></a></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637914"><span class="annot"><a href="#local-6989586621679637914"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679637914"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637917"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637914"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plus</span></span><span> </span><span class="annot"><a href="#local-6989586621679637916"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637915"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637916"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-349"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637917"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637915"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637916"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-350"></span><span id="postPlusT"><span class="annot"><span class="annottext">postPlusT :: (f ~&gt; g) -&gt; PostT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#postPlusT"><span class="hs-identifier hs-var hs-var">postPlusT</span></a></span></span><span> </span><span id="local-6989586621679637913"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637913"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Post x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Monoid m =&gt; Interpret t (AltConst m), Plus g) =&gt;
(f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postPlus"><span class="hs-identifier hs-var">postPlus</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637913"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x f) x -&gt; g x)
-&gt; (PostT t f x -&gt; t (Post x f) x) -&gt; PostT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f x -&gt; t (Post x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="hs-comment">-- | Run a @'PostT' t@ into a covariant 'Alt' context.  To run it</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- This will work for types where there is a non-empty collection of</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-357"></span><span class="hs-comment">--</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- postAltT :: Alt g =&gt; (f ~&gt; g) -&gt; PreT 'Dec1' f ~&gt; g</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- postAltT :: Alt g =&gt; (f ~&gt; g) -&gt; PreT 'Div1' f ~&gt; g</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-362"></span><span id="local-6989586621679637910"><span id="local-6989586621679637911"><span id="local-6989586621679637912"><span class="annot"><a href="Data.HFunctor.Route.html#postAltT"><span class="hs-identifier hs-type">postAltT</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637909"><span class="annot"><a href="#local-6989586621679637909"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679637909"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637912"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637909"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alt</span></span><span> </span><span class="annot"><a href="#local-6989586621679637911"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637911"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637912"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637911"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-366"></span><span id="postAltT"><span class="annot"><span class="annottext">postAltT :: (f ~&gt; g) -&gt; PostT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#postAltT"><span class="hs-identifier hs-var hs-var">postAltT</span></a></span></span><span> </span><span id="local-6989586621679637908"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637908"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Post x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Semigroup m =&gt; Interpret t (AltConst m), Alt g) =&gt;
(f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postAlt"><span class="hs-identifier hs-var">postAlt</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637908"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x f) x -&gt; g x)
-&gt; (PostT t f x -&gt; t (Post x f) x) -&gt; PostT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f x -&gt; t (Post x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Run a @'PostT' t@ into a covariant 'Functor' context.  To run it</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-370"></span><span class="hs-comment">--</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- This will work for types where there is exactly one @f@ inside:</span><span>
</span><span id="line-372"></span><span class="hs-comment">--</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- postFunctorT :: Functor g =&gt; (f ~&gt; g) -&gt; PreT 'Step' f ~&gt; g</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- postFunctorT :: Functor g =&gt; (f ~&gt; g) -&gt; PreT 'CCY.Coyoneda' f ~&gt; g</span><span>
</span><span id="line-376"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-377"></span><span id="local-6989586621679637905"><span id="local-6989586621679637906"><span id="local-6989586621679637907"><span class="annot"><a href="Data.HFunctor.Route.html#postFunctorT"><span class="hs-identifier hs-type">postFunctorT</span></a></span><span>
</span><span id="line-378"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679637904"><span class="annot"><a href="#local-6989586621679637904"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637907"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637904"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679637906"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637905"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637906"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#PostT"><span class="hs-identifier hs-type">PostT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637907"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637905"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679637906"><span class="hs-identifier hs-type">g</span></a></span></span></span></span><span>
</span><span id="line-381"></span><span id="postFunctorT"><span class="annot"><span class="annottext">postFunctorT :: (f ~&gt; g) -&gt; PostT t f ~&gt; g
</span><a href="Data.HFunctor.Route.html#postFunctorT"><span class="hs-identifier hs-var hs-var">postFunctorT</span></a></span></span><span> </span><span id="local-6989586621679637903"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637903"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; t (Post x f) x -&gt; g x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (g :: * -&gt; *) (f :: * -&gt; *) a b.
(forall m. Interpret t (AltConst m), Functor g) =&gt;
(f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postFunctor"><span class="hs-identifier hs-var">postFunctor</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637903"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Post x f) x -&gt; g x)
-&gt; (PostT t f x -&gt; t (Post x f) x) -&gt; PostT t f x -&gt; g x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PostT t f x -&gt; t (Post x f) x
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (f :: * -&gt; *) a.
PostT t f a -&gt; t (Post a f) a
</span><a href="Data.HFunctor.Route.html#unPostT"><span class="hs-identifier hs-var hs-var">unPostT</span></a></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="hs-comment">-- | Run a &quot;post-routed&quot; @t@ into a covariant 'Plus' context.  To run it</span><span>
</span><span id="line-384"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-385"></span><span class="hs-comment">--</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- This will work for types where there are a possibly-empty collection of</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-388"></span><span class="hs-comment">--</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- postPlus :: Plus g =&gt; (f ~&gt; g) -&gt; 'Dec' (Post a f) b -&gt; g a</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- postPlus :: Plus g =&gt; (f ~&gt; g) -&gt; 'Div' (Post a f) b -&gt; g a</span><span>
</span><span id="line-392"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-393"></span><span id="local-6989586621679638536"><span id="local-6989586621679638537"><span id="local-6989586621679638538"><span id="local-6989586621679638540"><span id="local-6989586621679638541"><span class="annot"><a href="Data.HFunctor.Route.html#postPlus"><span class="hs-identifier hs-type">postPlus</span></a></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638542"><span class="annot"><a href="#local-6989586621679638542"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679638542"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638541"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638542"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plus</span></span><span> </span><span class="annot"><a href="#local-6989586621679638540"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638538"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638540"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638541"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638537"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638538"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638536"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638540"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638537"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-398"></span><span id="postPlus"><span class="annot"><span class="annottext">postPlus :: (f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postPlus"><span class="hs-identifier hs-var hs-var">postPlus</span></a></span></span><span> </span><span id="local-6989586621679637902"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637902"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; g a -&gt; g a) -&gt; g a -&gt; [g a] -&gt; g a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; g a -&gt; g a
forall (f :: * -&gt; *) a. Alt f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">(&lt;!&gt;)</span></span><span> </span><span class="annot"><span class="annottext">g a
forall (f :: * -&gt; *) a. Plus f =&gt; f a
</span><span class="hs-identifier hs-var">zero</span></span><span> </span><span class="annot"><span class="annottext">([g a] -&gt; g a)
-&gt; (t (Post a f) b -&gt; [g a]) -&gt; t (Post a f) b -&gt; g a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Post a f x -&gt; g a) -&gt; t (Post a f) b -&gt; [g a]
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) b (a :: k).
(forall m. Monoid m =&gt; Interpret t (AltConst m)) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; [b]
</span><a href="Data.HFunctor.Interpret.html#icollect"><span class="hs-identifier hs-var">icollect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Post a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Functor g =&gt;
(f ~&gt; g) -&gt; Post a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier hs-var">interpretPost</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637902"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Run a &quot;post-routed&quot; @t@ into a covariant 'Alt' context.  To run it</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-402"></span><span class="hs-comment">--</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- This will work for types where there are is a non-empty collection of</span><span>
</span><span id="line-404"></span><span class="hs-comment">-- @f@s, like:</span><span>
</span><span id="line-405"></span><span class="hs-comment">--</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- postAlt :: Alt g =&gt; (f ~&gt; g) -&gt; 'Dec1' (Post a f) b -&gt; g a</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- postAlt :: Alt g =&gt; (f ~&gt; g) -&gt; 'Div1' (Post a f) b -&gt; g a</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-410"></span><span id="local-6989586621679638525"><span id="local-6989586621679638526"><span id="local-6989586621679638527"><span id="local-6989586621679638529"><span id="local-6989586621679638530"><span class="annot"><a href="Data.HFunctor.Route.html#postAlt"><span class="hs-identifier hs-type">postAlt</span></a></span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638531"><span class="annot"><a href="#local-6989586621679638531"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="#local-6989586621679638531"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638530"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638531"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alt</span></span><span> </span><span class="annot"><a href="#local-6989586621679638529"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638527"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638529"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638530"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638526"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638527"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638525"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638529"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638526"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-415"></span><span id="postAlt"><span class="annot"><span class="annottext">postAlt :: (f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postAlt"><span class="hs-identifier hs-var hs-var">postAlt</span></a></span></span><span> </span><span id="local-6989586621679637899"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637899"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; g a -&gt; g a) -&gt; NonEmpty (g a) -&gt; g a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">g a -&gt; g a -&gt; g a
forall (f :: * -&gt; *) a. Alt f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">(&lt;!&gt;)</span></span><span> </span><span class="annot"><span class="annottext">(NonEmpty (g a) -&gt; g a)
-&gt; (t (Post a f) b -&gt; NonEmpty (g a)) -&gt; t (Post a f) b -&gt; g a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(forall x. Post a f x -&gt; g a) -&gt; t (Post a f) b -&gt; NonEmpty (g a)
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) b (a :: k).
(forall m. Semigroup m =&gt; Interpret t (AltConst m)) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; NonEmpty b
</span><a href="Data.HFunctor.Interpret.html#icollect1"><span class="hs-identifier hs-var">icollect1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Post a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Functor g =&gt;
(f ~&gt; g) -&gt; Post a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier hs-var">interpretPost</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637899"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | Run a &quot;post-routed&quot; @t@ into a covariant 'Functor' context.  To run it</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- in @t@s normal contravariant context, use 'interpret'.</span><span>
</span><span id="line-419"></span><span class="hs-comment">--</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- This will work for types where there is exactly one @f@ inside:</span><span>
</span><span id="line-421"></span><span class="hs-comment">--</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- postFunctor :: Functor g =&gt; (f ~&gt; g) -&gt; 'Step'         (Post a f) b -&gt; g a</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- postFunctor :: Functor g =&gt; (f ~&gt; g) -&gt; 'CCY.Coyoneda' (Post a f) b -&gt; g a</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-426"></span><span id="local-6989586621679638515"><span id="local-6989586621679638516"><span id="local-6989586621679638517"><span id="local-6989586621679638518"><span id="local-6989586621679638520"><span class="annot"><a href="Data.HFunctor.Route.html#postFunctor"><span class="hs-identifier hs-type">postFunctor</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638519"><span class="annot"><a href="#local-6989586621679638519"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638520"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier hs-type">AltConst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638519"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679638518"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638517"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638518"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638520"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638516"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638517"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638515"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638518"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638516"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-431"></span><span id="postFunctor"><span class="annot"><span class="annottext">postFunctor :: (f ~&gt; g) -&gt; t (Post a f) b -&gt; g a
</span><a href="Data.HFunctor.Route.html#postFunctor"><span class="hs-identifier hs-var hs-var">postFunctor</span></a></span></span><span> </span><span id="local-6989586621679637898"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637898"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall x. Post a f x -&gt; g a) -&gt; t (Post a f) b -&gt; g a
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) b (f :: k -&gt; *) (a :: k).
Interpret t (AltConst b) =&gt;
(forall (x :: k). f x -&gt; b) -&gt; t f a -&gt; b
</span><a href="Data.HFunctor.Interpret.html#iget"><span class="hs-identifier hs-var">iget</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(f ~&gt; g) -&gt; Post a f x -&gt; g a
forall (g :: * -&gt; *) (f :: * -&gt; *) a b.
Functor g =&gt;
(f ~&gt; g) -&gt; Post a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier hs-var">interpretPost</span></a></span><span> </span><span class="annot"><span class="annottext">f ~&gt; g
</span><a href="#local-6989586621679637898"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-comment">-- | Contravariantly retract the @f@ out of a 'Pre', applying the</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- pre-routing function.  Not usually that useful because 'Pre' is meant to</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- be used with covariant 'Functor's.</span><span>
</span><span id="line-436"></span><span id="local-6989586621679637895"><span id="local-6989586621679637896"><span id="local-6989586621679637897"><span class="annot"><a href="Data.HFunctor.Route.html#retractPre"><span class="hs-identifier hs-type">retractPre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679637897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637895"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637897"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637896"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-437"></span><span id="retractPre"><span class="annot"><span class="annottext">retractPre :: Pre a f b -&gt; f a
</span><a href="Data.HFunctor.Route.html#retractPre"><span class="hs-identifier hs-var hs-var">retractPre</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637894"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637894"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637893"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637893"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; f b -&gt; f a
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637894"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637893"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-comment">-- | Interpret a 'Pre' into a contravariant context, applying the</span><span>
</span><span id="line-440"></span><span class="hs-comment">-- pre-routing function.</span><span>
</span><span id="line-441"></span><span id="local-6989586621679638576"><span id="local-6989586621679638577"><span id="local-6989586621679638578"><span id="local-6989586621679638579"><span class="annot"><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier hs-type">interpretPre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679638579"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638578"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638579"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638577"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638578"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638576"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638579"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638577"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-442"></span><span id="interpretPre"><span class="annot"><span class="annottext">interpretPre :: (f ~&gt; g) -&gt; Pre a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPre"><span class="hs-identifier hs-var hs-var">interpretPre</span></a></span></span><span> </span><span id="local-6989586621679637892"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637892"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637891"><span class="annot"><span class="annottext">g :: a -&gt; b
</span><a href="#local-6989586621679637891"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637890"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637890"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; g b -&gt; g a
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637891"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f b -&gt; g b
f ~&gt; g
</span><a href="#local-6989586621679637892"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637890"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-comment">-- | Drop the pre-routing function and just give the original wrapped</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- value.</span><span>
</span><span id="line-446"></span><span id="local-6989586621679638673"><span id="local-6989586621679638674"><span id="local-6989586621679638675"><span class="annot"><a href="Data.HFunctor.Route.html#getPre"><span class="hs-identifier hs-type">getPre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638675"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638674"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638673"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638674"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638673"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-447"></span><span id="getPre"><span class="annot"><span class="annottext">getPre :: Pre a f b -&gt; f b
</span><a href="Data.HFunctor.Route.html#getPre"><span class="hs-identifier hs-var hs-var">getPre</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637889"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637889"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637889"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- | Pre-compose on the pre-routing function.</span><span>
</span><span id="line-450"></span><span id="local-6989586621679638717"><span id="local-6989586621679638718"><span id="local-6989586621679638719"><span id="local-6989586621679638720"><span class="annot"><a href="Data.HFunctor.Route.html#mapPre"><span class="hs-identifier hs-type">mapPre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638720"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638719"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638719"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638718"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638717"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638720"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638718"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638717"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-451"></span><span id="mapPre"><span class="annot"><span class="annottext">mapPre :: (c -&gt; a) -&gt; Pre a f b -&gt; Pre c f b
</span><a href="Data.HFunctor.Route.html#mapPre"><span class="hs-identifier hs-var hs-var">mapPre</span></a></span></span><span> </span><span id="local-6989586621679637888"><span class="annot"><span class="annottext">f :: c -&gt; a
</span><a href="#local-6989586621679637888"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637887"><span class="annot"><span class="annottext">g :: a -&gt; b
</span><a href="#local-6989586621679637887"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637886"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637886"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637887"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (c -&gt; a) -&gt; c -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; a
</span><a href="#local-6989586621679637888"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(c -&gt; b) -&gt; f b -&gt; Pre c f b
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637886"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-comment">-- | Like 'inject', but allowing you to provide a pre-routing function.</span><span>
</span><span id="line-454"></span><span id="local-6989586621679637882"><span id="local-6989586621679637883"><span id="local-6989586621679637884"><span id="local-6989586621679637885"><span class="annot"><a href="Data.HFunctor.Route.html#injectPre"><span class="hs-identifier hs-type">injectPre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637885"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637884"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637883"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637882"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637883"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637885"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637884"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637882"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637883"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-455"></span><span id="injectPre"><span class="annot"><span class="annottext">injectPre :: (a -&gt; b) -&gt; f b -&gt; t (Pre a f) b
</span><a href="Data.HFunctor.Route.html#injectPre"><span class="hs-identifier hs-var hs-var">injectPre</span></a></span></span><span> </span><span id="local-6989586621679637881"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637881"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637880"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637880"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pre a f b -&gt; t (Pre a f) b
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *).
Inject t =&gt;
f ~&gt; t f
</span><a href="Data.HFunctor.html#inject"><span class="hs-identifier hs-var">inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637881"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; f b -&gt; Pre a f b
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637880"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- | Covariantly retract the @f@ out of a 'Post', applying the</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- post-routing function.  Not usually that useful because 'Post' is meant to</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- be used with contravariant 'Functor's.</span><span>
</span><span id="line-460"></span><span id="local-6989586621679637877"><span id="local-6989586621679637878"><span id="local-6989586621679637879"><span class="annot"><a href="Data.HFunctor.Route.html#retractPost"><span class="hs-identifier hs-type">retractPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679637879"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637878"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637879"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637877"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637879"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637878"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-461"></span><span id="retractPost"><span class="annot"><span class="annottext">retractPost :: Post a f b -&gt; f a
</span><a href="Data.HFunctor.Route.html#retractPost"><span class="hs-identifier hs-var hs-var">retractPost</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637876"><span class="annot"><span class="annottext">f :: b -&gt; a
</span><a href="#local-6989586621679637876"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637875"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637875"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; f b -&gt; f a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637876"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637875"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="hs-comment">-- | Interpret a 'Post' into a covariant context, applying the</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- post-routing function.</span><span>
</span><span id="line-465"></span><span id="local-6989586621679638501"><span id="local-6989586621679638502"><span id="local-6989586621679638503"><span id="local-6989586621679638504"><span class="annot"><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier hs-type">interpretPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679638504"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638503"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">~&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679638504"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638502"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638503"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638501"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638504"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638502"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-466"></span><span id="interpretPost"><span class="annot"><span class="annottext">interpretPost :: (f ~&gt; g) -&gt; Post a f b -&gt; g a
</span><a href="Data.HFunctor.Route.html#interpretPost"><span class="hs-identifier hs-var hs-var">interpretPost</span></a></span></span><span> </span><span id="local-6989586621679637874"><span class="annot"><span class="annottext">f :: f ~&gt; g
</span><a href="#local-6989586621679637874"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637873"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679637873"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637872"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637872"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; g b -&gt; g a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637873"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f b -&gt; g b
f ~&gt; g
</span><a href="#local-6989586621679637874"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637872"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="hs-comment">-- | Drop the post-routing function and just give the original wrapped</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- value.</span><span>
</span><span id="line-470"></span><span id="local-6989586621679638634"><span id="local-6989586621679638635"><span id="local-6989586621679638636"><span class="annot"><a href="Data.HFunctor.Route.html#getPost"><span class="hs-identifier hs-type">getPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638636"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638635"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638634"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638635"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638634"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-471"></span><span id="getPost"><span class="annot"><span class="annottext">getPost :: Post a f b -&gt; f b
</span><a href="Data.HFunctor.Route.html#getPost"><span class="hs-identifier hs-var hs-var">getPost</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637871"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637871"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637871"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span class="hs-comment">-- | Post-compose on the post-routing function.</span><span>
</span><span id="line-474"></span><span id="local-6989586621679638656"><span id="local-6989586621679638657"><span id="local-6989586621679638658"><span id="local-6989586621679638659"><span class="annot"><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier hs-type">mapPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679638659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679638658"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638657"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638656"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638658"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638657"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638656"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-475"></span><span id="mapPost"><span class="annot"><span class="annottext">mapPost :: (a -&gt; c) -&gt; Post a f b -&gt; Post c f b
</span><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier hs-var hs-var">mapPost</span></a></span></span><span> </span><span id="local-6989586621679637870"><span class="annot"><span class="annottext">f :: a -&gt; c
</span><a href="#local-6989586621679637870"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637869"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679637869"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637868"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637868"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; c
</span><a href="#local-6989586621679637870"><span class="hs-identifier hs-var">f</span></a></span><span>  </span><span class="annot"><span class="annottext">(a -&gt; c) -&gt; (b -&gt; a) -&gt; b -&gt; c
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637869"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; c) -&gt; f b -&gt; Post c f b
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637868"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">-- | Like 'inject', but allowing you to provide a post-routing function.</span><span>
</span><span id="line-478"></span><span id="local-6989586621679637864"><span id="local-6989586621679637865"><span id="local-6989586621679637866"><span id="local-6989586621679637867"><span class="annot"><a href="Data.HFunctor.Route.html#injectPost"><span class="hs-identifier hs-type">injectPost</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637866"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637865"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637864"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637866"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637867"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637865"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637864"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637866"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span><span>
</span><span id="line-479"></span><span id="injectPost"><span class="annot"><span class="annottext">injectPost :: (b -&gt; a) -&gt; f b -&gt; t (Post a f) b
</span><a href="Data.HFunctor.Route.html#injectPost"><span class="hs-identifier hs-var hs-var">injectPost</span></a></span></span><span> </span><span id="local-6989586621679637863"><span class="annot"><span class="annottext">f :: b -&gt; a
</span><a href="#local-6989586621679637863"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637862"><span class="annot"><span class="annottext">x :: f b
</span><a href="#local-6989586621679637862"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Post a f b -&gt; t (Post a f) b
forall k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *).
Inject t =&gt;
f ~&gt; t f
</span><a href="Data.HFunctor.html#inject"><span class="hs-identifier hs-var">inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637863"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; f b -&gt; Post a f b
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679637862"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span id="local-6989586621679637860"><span id="local-6989586621679637861"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679637861"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637860"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637861"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-482"></span><span>    </span><span id="local-6989586621679637858"><span class="annot"><span class="annottext">invmap :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; Post a f a -&gt; Post a f b
</span><a href="#local-6989586621679637858"><span class="hs-identifier hs-var hs-var hs-var hs-var">invmap</span></a></span></span><span> </span><span id="local-6989586621679637857"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637857"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637856"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679637856"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637855"><span class="annot"><span class="annottext">h :: a -&gt; a
</span><a href="#local-6989586621679637855"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637854"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679637854"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679637855"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; (b -&gt; a) -&gt; b -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637856"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; f b -&gt; Post a f b
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637857"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679637854"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span id="local-6989586621679637852"><span id="local-6989586621679637853"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679637853"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637852"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637853"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>    </span><span id="local-6989586621679637850"><span class="annot"><span class="annottext">invmap :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; Pre a f a -&gt; Pre a f b
</span><a href="#local-6989586621679637850"><span class="hs-identifier hs-var hs-var hs-var hs-var">invmap</span></a></span></span><span> </span><span id="local-6989586621679637849"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637849"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637848"><span class="annot"><span class="annottext">g :: b -&gt; a
</span><a href="#local-6989586621679637848"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637847"><span class="annot"><span class="annottext">h :: a -&gt; a
</span><a href="#local-6989586621679637847"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637846"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679637846"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637849"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (a -&gt; a) -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679637847"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; f b -&gt; Pre a f b
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; a) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; a
</span><a href="#local-6989586621679637848"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679637846"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span id="local-6989586621679637845"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637845"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-488"></span><span>    </span><span id="local-6989586621679637843"><span class="annot"><span class="annottext">hmap :: (f ~&gt; g) -&gt; Post a f ~&gt; Post a g
</span><a href="#local-6989586621679637843"><span class="hs-identifier hs-var hs-var hs-var hs-var">hmap</span></a></span></span><span> </span><span id="local-6989586621679637842"><span class="annot"><span class="annottext">g :: f ~&gt; g
</span><a href="#local-6989586621679637842"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637841"><span class="annot"><span class="annottext">f :: x -&gt; a
</span><a href="#local-6989586621679637841"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637840"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637840"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x -&gt; a
</span><a href="#local-6989586621679637841"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(x -&gt; a) -&gt; g x -&gt; Post a g x
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x -&gt; g x
f ~&gt; g
</span><a href="#local-6989586621679637842"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637840"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span id="local-6989586621679637839"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637839"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-491"></span><span>    </span><span id="local-6989586621679637837"><span class="annot"><span class="annottext">hmap :: (f ~&gt; g) -&gt; Pre a f ~&gt; Pre a g
</span><a href="#local-6989586621679637837"><span class="hs-identifier hs-var hs-var hs-var hs-var">hmap</span></a></span></span><span> </span><span id="local-6989586621679637836"><span class="annot"><span class="annottext">g :: f ~&gt; g
</span><a href="#local-6989586621679637836"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637835"><span class="annot"><span class="annottext">f :: a -&gt; x
</span><a href="#local-6989586621679637835"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637834"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637834"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; x
</span><a href="#local-6989586621679637835"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; x) -&gt; g x -&gt; Pre a g x
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x -&gt; g x
f ~&gt; g
</span><a href="#local-6989586621679637836"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637834"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span id="local-6989586621679637833"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637833"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-494"></span><span>    </span><span id="local-6989586621679637830"><span class="annot"><span class="annottext">htraverse :: (forall x. f x -&gt; h (g x)) -&gt; Post a f a -&gt; h (Post a g a)
</span><a href="#local-6989586621679637830"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span id="local-6989586621679637829"><span class="annot"><span class="annottext">g :: forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637829"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637828"><span class="annot"><span class="annottext">f :: a -&gt; a
</span><a href="#local-6989586621679637828"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637827"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679637827"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679637828"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; g a -&gt; Post a g a
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; Post a g a) -&gt; h (g a) -&gt; h (Post a g a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">f a -&gt; h (g a)
forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637829"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679637827"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span id="local-6989586621679637825"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier hs-type">HTraversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637825"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>    </span><span id="local-6989586621679637822"><span class="annot"><span class="annottext">htraverse :: (forall x. f x -&gt; h (g x)) -&gt; Pre a f a -&gt; h (Pre a g a)
</span><a href="#local-6989586621679637822"><span class="hs-identifier hs-var hs-var hs-var hs-var">htraverse</span></a></span></span><span> </span><span id="local-6989586621679637821"><span class="annot"><span class="annottext">g :: forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637821"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637820"><span class="annot"><span class="annottext">f :: a -&gt; a
</span><a href="#local-6989586621679637820"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637819"><span class="annot"><span class="annottext">x :: f a
</span><a href="#local-6989586621679637819"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679637820"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; g a -&gt; Pre a g a
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(g a -&gt; Pre a g a) -&gt; h (g a) -&gt; h (Pre a g a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">f a -&gt; h (g a)
forall x. f x -&gt; h (g x)
</span><a href="#local-6989586621679637821"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679637819"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span id="local-6989586621679637818"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679637818"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637818"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-500"></span><span>    </span><span id="local-6989586621679637815"><span class="annot"><span class="annottext">inject :: f x -&gt; Post a f x
</span><a href="#local-6989586621679637815"><span class="hs-identifier hs-var hs-var hs-var hs-var">inject</span></a></span></span><span> </span><span id="local-6989586621679637814"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637814"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; x -&gt; a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">(x -&gt; a) -&gt; f x -&gt; Post a f x
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637814"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span id="local-6989586621679637812"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637809"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679637812"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#HBind"><span class="hs-identifier hs-type">HBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637812"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-503"></span><span>    </span><span id="local-6989586621679637806"><span class="annot"><span class="annottext">hjoin :: Post a (Post a f) x -&gt; Post a f x
</span><a href="Data.HFunctor.html#hjoin"><span class="hs-identifier hs-var hs-var hs-var hs-var">hjoin</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637804"><span class="annot"><span class="annottext">f :: x -&gt; a
</span><a href="#local-6989586621679637804"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679637803"><span class="annot"><span class="annottext">g :: x -&gt; a
</span><a href="#local-6989586621679637803"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637802"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637802"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; a
</span><a href="#local-6989586621679637804"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(x -&gt; a) -&gt; (x -&gt; a) -&gt; x -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; a
</span><a href="#local-6989586621679637803"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(x -&gt; a) -&gt; f x -&gt; Post a f x
forall a (f :: * -&gt; *) b. (b -&gt; a) -&gt; f b -&gt; Post a f b
</span><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-var">:&lt;$&gt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637802"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span id="local-6989586621679637800"><span id="local-6989586621679637801"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637796"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679637801"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637801"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637800"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-506"></span><span>    </span><span id="local-6989586621679637795"><span class="annot"><span class="annottext">retract :: Post a f x -&gt; f x
</span><a href="Data.HFunctor.Interpret.html#retract"><span class="hs-identifier hs-var hs-var hs-var hs-var">retract</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3C%24%3E%3A"><span class="hs-operator hs-type">:&lt;$&gt;:</span></a></span><span> </span><span id="local-6989586621679637793"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637793"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637793"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span class="hs-comment">-- | This instance is over-contrained (@a@ only needs to be uninhabited),</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- but there is no commonly used &quot;uninhabited&quot; typeclass</span><span>
</span><span id="line-510"></span><span id="local-6989586621679637792"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637792"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier hs-type">Inject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637792"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-511"></span><span>    </span><span id="local-6989586621679637789"><span class="annot"><span class="annottext">inject :: f x -&gt; Pre a f x
</span><a href="#local-6989586621679637789"><span class="hs-identifier hs-var hs-var hs-var hs-var">inject</span></a></span></span><span> </span><span id="local-6989586621679637788"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637788"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Void -&gt; x
forall a. Void -&gt; a
</span><span class="hs-identifier hs-var">absurd</span></span><span> </span><span class="annot"><span class="annottext">(Void -&gt; x) -&gt; f x -&gt; Pre Void f x
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637788"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="hs-comment">-- | This instance is over-contrained (@a@ only needs to be uninhabited),</span><span>
</span><span id="line-514"></span><span class="hs-comment">-- but there is no commonly used &quot;uninhabited&quot; typeclass</span><span>
</span><span id="line-515"></span><span id="local-6989586621679637786"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637783"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637786"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.html#HBind"><span class="hs-identifier hs-type">HBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637786"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>    </span><span id="local-6989586621679637781"><span class="annot"><span class="annottext">hjoin :: Pre a (Pre a f) x -&gt; Pre a f x
</span><a href="#local-6989586621679637781"><span class="hs-identifier hs-var hs-var hs-var hs-var">hjoin</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637780"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637780"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Void -&gt; x
forall a. Void -&gt; a
</span><span class="hs-identifier hs-var">absurd</span></span><span> </span><span class="annot"><span class="annottext">(Void -&gt; x) -&gt; f x -&gt; Pre Void f x
forall a (f :: * -&gt; *) b. (a -&gt; b) -&gt; f b -&gt; Pre a f b
</span><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-var">:&gt;$&lt;:</span></a></span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637780"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-517"></span><span>
</span><span id="line-518"></span><span id="local-6989586621679637778"><span id="local-6989586621679637779"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637774"><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637779"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier hs-type">Interpret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637779"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637778"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-519"></span><span>    </span><span id="local-6989586621679637773"><span class="annot"><span class="annottext">retract :: Pre a f x -&gt; f x
</span><a href="#local-6989586621679637773"><span class="hs-identifier hs-var hs-var hs-var hs-var">retract</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#%3A%3E%24%3C%3A"><span class="hs-operator hs-type">:&gt;$&lt;:</span></a></span><span> </span><span id="local-6989586621679637772"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637772"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637772"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-comment">-- | If @t@ is a covariant functor combinator, then you applying it to</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- @'Pre' a f@ gives you a profunctor.</span><span>
</span><span id="line-523"></span><span class="hs-keyword">newtype</span><span> </span><span id="ProPre"><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-var">ProPre</span></a></span></span><span> </span><span id="local-6989586621679638339"><span class="annot"><a href="#local-6989586621679638339"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679638337"><span class="annot"><a href="#local-6989586621679638337"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638338"><span class="annot"><a href="#local-6989586621679638338"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679638336"><span class="annot"><a href="#local-6989586621679638336"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ProPre"><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-var">ProPre</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unProPre"><span class="annot"><span class="annottext">ProPre t f a b -&gt; t (Pre a f) b
</span><a href="Data.HFunctor.Route.html#unProPre"><span class="hs-identifier hs-var hs-var">unProPre</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638339"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638337"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638336"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span id="local-6989586621679637768"><span id="local-6989586621679637769"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637759"><span id="local-6989586621679637761"><span id="local-6989586621679637763"><span id="local-6989586621679637765"><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637769"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638359"><span class="annot"><a href="#local-6989586621679638359"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637769"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638359"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637768"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637769"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637768"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-526"></span><span>    </span><span id="local-6989586621679637757"><span class="annot"><span class="annottext">dimap :: (a -&gt; b) -&gt; (c -&gt; d) -&gt; ProPre t f b c -&gt; ProPre t f a d
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">dimap</span></span></span><span> </span><span id="local-6989586621679637755"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637755"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637754"><span class="annot"><span class="annottext">g :: c -&gt; d
</span><a href="#local-6989586621679637754"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre a f) d -&gt; ProPre t f a d
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) a (b :: k).
t (Pre a f) b -&gt; ProPre t f a b
</span><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-var">ProPre</span></a></span><span>
</span><span id="line-527"></span><span>              </span><span class="annot"><span class="annottext">(t (Pre a f) d -&gt; ProPre t f a d)
-&gt; (ProPre t f b c -&gt; t (Pre a f) d)
-&gt; ProPre t f b c
-&gt; ProPre t f a d
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Pre b f ~&gt; Pre a f) -&gt; t (Pre b f) ~&gt; t (Pre a f)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Pre b f x -&gt; Pre a f x
forall c a (f :: * -&gt; *) b. (c -&gt; a) -&gt; Pre a f b -&gt; Pre c f b
</span><a href="Data.HFunctor.Route.html#mapPre"><span class="hs-identifier hs-var">mapPre</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637755"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>              </span><span class="annot"><span class="annottext">(t (Pre b f) d -&gt; t (Pre a f) d)
-&gt; (ProPre t f b c -&gt; t (Pre b f) d)
-&gt; ProPre t f b c
-&gt; t (Pre a f) d
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(c -&gt; d) -&gt; t (Pre b f) c -&gt; t (Pre b f) d
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679637754"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-529"></span><span>              </span><span class="annot"><span class="annottext">(t (Pre b f) c -&gt; t (Pre b f) d)
-&gt; (ProPre t f b c -&gt; t (Pre b f) c)
-&gt; ProPre t f b c
-&gt; t (Pre b f) d
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ProPre t f b c -&gt; t (Pre b f) c
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) a (b :: k).
ProPre t f a b -&gt; t (Pre a f) b
</span><a href="Data.HFunctor.Route.html#unProPre"><span class="hs-identifier hs-var hs-var">unProPre</span></a></span></span></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-533"></span><span id="local-6989586621679637747"><span id="local-6989586621679637749"><span id="local-6989586621679637751"><span id="local-6989586621679637752"><span id="local-6989586621679637753"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637753"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637752"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637751"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637753"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637751"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637752"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-534"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-535"></span><span id="local-6989586621679637735"><span id="local-6989586621679637737"><span id="local-6989586621679637739"><span id="local-6989586621679637741"><span id="local-6989586621679637744"><span id="local-6989586621679637745"><span id="local-6989586621679637746"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637746"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637745"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637744"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637746"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637745"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-536"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-537"></span><span id="local-6989586621679637720"><span id="local-6989586621679637722"><span id="local-6989586621679637724"><span id="local-6989586621679637726"><span id="local-6989586621679637728"><span id="local-6989586621679637731"><span id="local-6989586621679637732"><span id="local-6989586621679637733"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637733"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637732"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637731"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637733"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637731"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637732"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-538"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-539"></span><span id="local-6989586621679637716"><span id="local-6989586621679637717"><span id="local-6989586621679637718"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637712"><span class="annot"><span class="hs-identifier hs-type">Bind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637718"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637717"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637716"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637718"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637716"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637717"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span id="local-6989586621679637710"><span class="annot"><span class="annottext">x :: t (Pre a f) a
</span><a href="#local-6989586621679637710"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679637709"><span class="annot"><span class="annottext">&gt;&gt;- :: ProPre t f a a -&gt; (a -&gt; ProPre t f a b) -&gt; ProPre t f a b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;-</span></span></span><span> </span><span id="local-6989586621679637707"><span class="annot"><span class="annottext">f :: a -&gt; ProPre t f a b
</span><a href="#local-6989586621679637707"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre a f) b -&gt; ProPre t f a b
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) a (b :: k).
t (Pre a f) b -&gt; ProPre t f a b
</span><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-var">ProPre</span></a></span><span> </span><span class="annot"><span class="annottext">(t (Pre a f) b -&gt; ProPre t f a b)
-&gt; t (Pre a f) b -&gt; ProPre t f a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">t (Pre a f) a
</span><a href="#local-6989586621679637710"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">t (Pre a f) a -&gt; (a -&gt; t (Pre a f) b) -&gt; t (Pre a f) b
forall (m :: * -&gt; *) a b. Bind m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;-</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ProPre t f a b -&gt; t (Pre a f) b
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) a (b :: k).
ProPre t f a b -&gt; t (Pre a f) b
</span><a href="Data.HFunctor.Route.html#unProPre"><span class="hs-identifier hs-var hs-var">unProPre</span></a></span><span> </span><span class="annot"><span class="annottext">(ProPre t f a b -&gt; t (Pre a f) b)
-&gt; (a -&gt; ProPre t f a b) -&gt; a -&gt; t (Pre a f) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; ProPre t f a b
</span><a href="#local-6989586621679637707"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-541"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-542"></span><span id="local-6989586621679637697"><span id="local-6989586621679637699"><span id="local-6989586621679637701"><span id="local-6989586621679637704"><span id="local-6989586621679637705"><span id="local-6989586621679637706"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637706"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637705"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637704"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637706"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637704"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637705"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-543"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-544"></span><span id="local-6989586621679637689"><span id="local-6989586621679637691"><span id="local-6989586621679637693"><span id="local-6989586621679637694"><span id="local-6989586621679637695"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637695"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637694"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637693"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637695"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637693"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637694"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-545"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-546"></span><span id="local-6989586621679637681"><span id="local-6989586621679637683"><span id="local-6989586621679637686"><span id="local-6989586621679637687"><span id="local-6989586621679637688"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637688"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637687"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637686"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637688"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637686"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637687"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-547"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-548"></span><span id="local-6989586621679637674"><span id="local-6989586621679637677"><span id="local-6989586621679637678"><span id="local-6989586621679637679"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html#Divise"><span class="hs-identifier hs-type">Divise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637679"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637678"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637677"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html#Divise"><span class="hs-identifier hs-type">Divise</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637679"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637677"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637678"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-549"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-550"></span><span id="local-6989586621679637667"><span id="local-6989586621679637670"><span id="local-6989586621679637671"><span id="local-6989586621679637672"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Decide.html#Decide"><span class="hs-identifier hs-type">Decide</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637672"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637671"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637670"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Decide.html#Decide"><span class="hs-identifier hs-type">Decide</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637672"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637670"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637671"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-551"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-552"></span><span id="local-6989586621679637660"><span id="local-6989586621679637663"><span id="local-6989586621679637664"><span id="local-6989586621679637665"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Conclude.html#Conclude"><span class="hs-identifier hs-type">Conclude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637665"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637664"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637663"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Conclude.html#Conclude"><span class="hs-identifier hs-type">Conclude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637665"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637663"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637664"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-553"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-554"></span><span id="local-6989586621679637651"><span id="local-6989586621679637653"><span id="local-6989586621679637656"><span id="local-6989586621679637657"><span id="local-6989586621679637658"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Decidable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637658"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637657"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637656"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Decidable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637658"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637656"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637657"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-555"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-556"></span><span id="local-6989586621679637644"><span id="local-6989586621679637647"><span id="local-6989586621679637648"><span id="local-6989586621679637649"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plus</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637649"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637648"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plus</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637649"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637647"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637648"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-557"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-558"></span><span id="local-6989586621679637640"><span id="local-6989586621679637641"><span id="local-6989586621679637642"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637634"><span id="local-6989586621679637636"><span class="annot"><span class="hs-identifier hs-type">Alt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637642"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637641"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637640"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637642"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637640"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637641"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-559"></span><span>    </span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span id="local-6989586621679637632"><span class="annot"><span class="annottext">x :: t (Pre a f) a
</span><a href="#local-6989586621679637632"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679637631"><span class="annot"><span class="annottext">&lt;!&gt; :: ProPre t f a a -&gt; ProPre t f a a -&gt; ProPre t f a a
</span><a href="#local-6989586621679637631"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;!&gt;</span></a></span></span><span> </span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span id="local-6989586621679637630"><span class="annot"><span class="annottext">y :: t (Pre a f) a
</span><a href="#local-6989586621679637630"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Pre a f) a -&gt; ProPre t f a a
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) a (b :: k).
t (Pre a f) b -&gt; ProPre t f a b
</span><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-var">ProPre</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t (Pre a f) a
</span><a href="#local-6989586621679637632"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">t (Pre a f) a -&gt; t (Pre a f) a -&gt; t (Pre a f) a
forall (f :: * -&gt; *) a. Alt f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;!&gt;</span></span><span> </span><span class="annot"><span class="annottext">t (Pre a f) a
</span><a href="#local-6989586621679637630"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-560"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-561"></span><span id="local-6989586621679637625"><span id="local-6989586621679637627"><span id="local-6989586621679637628"><span id="local-6989586621679637629"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637628"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637627"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637629"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637627"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637628"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-562"></span><span class="hs-comment">-- | @since 0.4.0.0.0</span><span>
</span><span id="line-563"></span><span id="local-6989586621679637617"><span id="local-6989586621679637619"><span id="local-6989586621679637622"><span id="local-6989586621679637623"><span id="local-6989586621679637624"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Inplicative.html#Inply"><span class="hs-identifier hs-type">Inply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637624"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637623"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637622"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Inplicative.html#Inply"><span class="hs-identifier hs-type">Inply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637624"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637622"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-564"></span><span class="hs-comment">-- | @since 0.4.0.0.0</span><span>
</span><span id="line-565"></span><span id="local-6989586621679637610"><span id="local-6989586621679637613"><span id="local-6989586621679637614"><span id="local-6989586621679637615"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Inplicative.html#Inplicative"><span class="hs-identifier hs-type">Inplicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637615"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637614"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637613"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Inplicative.html#Inplicative"><span class="hs-identifier hs-type">Inplicative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637615"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637613"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637614"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-566"></span><span class="hs-comment">-- | @since 0.4.0.0.0</span><span>
</span><span id="line-567"></span><span id="local-6989586621679637601"><span id="local-6989586621679637603"><span id="local-6989586621679637606"><span id="local-6989586621679637607"><span id="local-6989586621679637608"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Inalt"><span class="hs-identifier hs-type">Inalt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637608"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637607"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637606"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Inalt"><span class="hs-identifier hs-type">Inalt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637608"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637606"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637607"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-568"></span><span class="hs-comment">-- | @since 0.4.0.0.0</span><span>
</span><span id="line-569"></span><span id="local-6989586621679637594"><span id="local-6989586621679637597"><span id="local-6989586621679637598"><span id="local-6989586621679637599"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Inplus"><span class="hs-identifier hs-type">Inplus</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637599"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637598"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637597"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Inplus"><span class="hs-identifier hs-type">Inplus</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637599"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637597"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637598"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-570"></span><span class="hs-comment">-- | @since 0.4.0.0.0</span><span>
</span><span id="line-571"></span><span id="local-6989586621679637590"><span id="local-6989586621679637591"><span id="local-6989586621679637592"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Internative"><span class="hs-identifier hs-type">Internative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637592"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637591"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637590"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Internative.html#Internative"><span class="hs-identifier hs-type">Internative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637592"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637590"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637591"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-572"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-573"></span><span id="local-6989586621679637577"><span id="local-6989586621679637579"><span id="local-6989586621679637581"><span id="local-6989586621679637583"><span id="local-6989586621679637584"><span id="local-6989586621679637585"><span id="local-6989586621679637586"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637586"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637584"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637583"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637586"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637584"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637583"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-574"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-575"></span><span id="local-6989586621679637565"><span id="local-6989586621679637567"><span id="local-6989586621679637569"><span id="local-6989586621679637572"><span id="local-6989586621679637573"><span id="local-6989586621679637574"><span id="local-6989586621679637575"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637575"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637574"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637573"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637572"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637575"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637573"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637574"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637572"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-576"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-577"></span><span id="local-6989586621679637554"><span id="local-6989586621679637556"><span id="local-6989586621679637558"><span id="local-6989586621679637560"><span id="local-6989586621679637561"><span id="local-6989586621679637562"><span id="local-6989586621679637563"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637563"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637561"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637560"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637563"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637561"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637562"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637560"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-578"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-579"></span><span id="local-6989586621679637545"><span id="local-6989586621679637547"><span id="local-6989586621679637549"><span id="local-6989586621679637550"><span id="local-6989586621679637551"><span id="local-6989586621679637552"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637552"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637550"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637549"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637552"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637550"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637551"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637549"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-580"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-581"></span><span id="local-6989586621679637525"><span id="local-6989586621679637527"><span id="local-6989586621679637529"><span id="local-6989586621679637531"><span id="local-6989586621679637533"><span id="local-6989586621679637535"><span id="local-6989586621679637537"><span id="local-6989586621679637540"><span id="local-6989586621679637541"><span id="local-6989586621679637542"><span id="local-6989586621679637543"><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637543"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Pre"><span class="hs-identifier hs-type">Pre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637541"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679637540"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPre"><span class="hs-identifier hs-type">ProPre</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637543"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637541"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637540"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span class="hs-comment">-- | If @t@ is a contravariant functor combinator, then you applying it to</span><span>
</span><span id="line-586"></span><span class="hs-comment">-- @'Post' a f@ gives you a profunctor.</span><span>
</span><span id="line-587"></span><span class="hs-keyword">newtype</span><span> </span><span id="ProPost"><span class="annot"><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-var">ProPost</span></a></span></span><span> </span><span id="local-6989586621679638072"><span class="annot"><a href="#local-6989586621679638072"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679638070"><span class="annot"><a href="#local-6989586621679638070"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679638069"><span class="annot"><a href="#local-6989586621679638069"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679638071"><span class="annot"><a href="#local-6989586621679638071"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ProPost"><span class="annot"><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-var">ProPost</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unProPost"><span class="annot"><span class="annottext">ProPost t f a b -&gt; t (Post b f) a
</span><a href="Data.HFunctor.Route.html#unProPost"><span class="hs-identifier hs-var hs-var">unProPost</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679638072"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638071"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638070"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679638069"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span id="local-6989586621679637520"><span id="local-6989586621679637521"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637511"><span id="local-6989586621679637513"><span id="local-6989586621679637515"><span id="local-6989586621679637517"><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637521"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679638092"><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">x</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637521"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679638092"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637520"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-type">ProPost</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637521"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637520"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-590"></span><span>    </span><span id="local-6989586621679637510"><span class="annot"><span class="annottext">dimap :: (a -&gt; b) -&gt; (c -&gt; d) -&gt; ProPost t f b c -&gt; ProPost t f a d
</span><a href="#local-6989586621679637510"><span class="hs-identifier hs-var hs-var hs-var hs-var">dimap</span></a></span></span><span> </span><span id="local-6989586621679637509"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637509"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679637508"><span class="annot"><span class="annottext">g :: c -&gt; d
</span><a href="#local-6989586621679637508"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Post d f) a -&gt; ProPost t f a d
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) (a :: k) b.
t (Post b f) a -&gt; ProPost t f a b
</span><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-var">ProPost</span></a></span><span>
</span><span id="line-591"></span><span>              </span><span class="annot"><span class="annottext">(t (Post d f) a -&gt; ProPost t f a d)
-&gt; (ProPost t f b c -&gt; t (Post d f) a)
-&gt; ProPost t f b c
-&gt; ProPost t f a d
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Post c f ~&gt; Post d f) -&gt; t (Post c f) ~&gt; t (Post d f)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(c -&gt; d) -&gt; Post c f x -&gt; Post d f x
forall a c (f :: * -&gt; *) b. (a -&gt; c) -&gt; Post a f b -&gt; Post c f b
</span><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier hs-var">mapPost</span></a></span><span> </span><span class="annot"><span class="annottext">c -&gt; d
</span><a href="#local-6989586621679637508"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>              </span><span class="annot"><span class="annottext">(t (Post c f) a -&gt; t (Post d f) a)
-&gt; (ProPost t f b c -&gt; t (Post c f) a)
-&gt; ProPost t f b c
-&gt; t (Post d f) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; t (Post c f) b -&gt; t (Post c f) a
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637509"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-593"></span><span>              </span><span class="annot"><span class="annottext">(t (Post c f) b -&gt; t (Post c f) a)
-&gt; (ProPost t f b c -&gt; t (Post c f) b)
-&gt; ProPost t f b c
-&gt; t (Post c f) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ProPost t f b c -&gt; t (Post c f) b
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) (a :: k) b.
ProPost t f a b -&gt; t (Post b f) a
</span><a href="Data.HFunctor.Route.html#unProPost"><span class="hs-identifier hs-var hs-var">unProPost</span></a></span></span></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-596"></span><span id="local-6989586621679637505"><span id="local-6989586621679637506"><span id="local-6989586621679637507"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679637502"><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637507"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637507"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637506"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637505"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-type">ProPost</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637507"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637505"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637506"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-597"></span><span>    </span><span id="local-6989586621679637501"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; ProPost t f a a -&gt; ProPost t f a b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679637500"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637500"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (Post b f) a -&gt; ProPost t f a b
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) (a :: k) b.
t (Post b f) a -&gt; ProPost t f a b
</span><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-var">ProPost</span></a></span><span>
</span><span id="line-598"></span><span>           </span><span class="annot"><span class="annottext">(t (Post b f) a -&gt; ProPost t f a b)
-&gt; (ProPost t f a a -&gt; t (Post b f) a)
-&gt; ProPost t f a a
-&gt; ProPost t f a b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Post a f ~&gt; Post b f) -&gt; t (Post a f) ~&gt; t (Post b f)
forall k k (t :: (k -&gt; *) -&gt; k -&gt; *) (f :: k -&gt; *) (g :: k -&gt; *).
HFunctor t =&gt;
(f ~&gt; g) -&gt; t f ~&gt; t g
</span><a href="Data.HFunctor.Internal.html#hmap"><span class="hs-identifier hs-var">hmap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Post a f x -&gt; Post b f x
forall a c (f :: * -&gt; *) b. (a -&gt; c) -&gt; Post a f b -&gt; Post c f b
</span><a href="Data.HFunctor.Route.html#mapPost"><span class="hs-identifier hs-var">mapPost</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637500"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span>           </span><span class="annot"><span class="annottext">(t (Post a f) a -&gt; t (Post b f) a)
-&gt; (ProPost t f a a -&gt; t (Post a f) a)
-&gt; ProPost t f a a
-&gt; t (Post b f) a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ProPost t f a a -&gt; t (Post a f) a
forall k (t :: (* -&gt; *) -&gt; k -&gt; *) (f :: * -&gt; *) (a :: k) b.
ProPost t f a b -&gt; t (Post b f) a
</span><a href="Data.HFunctor.Route.html#unProPost"><span class="hs-identifier hs-var hs-var">unProPost</span></a></span></span></span></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- | @since 0.3.4.1</span><span>
</span><span id="line-601"></span><span id="local-6989586621679637497"><span id="local-6989586621679637498"><span id="local-6989586621679637499"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier hs-type">HFunctor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637499"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637499"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#Post"><span class="hs-identifier hs-type">Post</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637497"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Invariant</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.HFunctor.Route.html#ProPost"><span class="hs-identifier hs-type">ProPost</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637499"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637497"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637498"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-602"></span><span>    </span><span id="local-6989586621679637495"><span class="annot"><span class="annottext">invmap :: (a -&gt; b) -&gt; (b -&gt; a) -&gt; ProPost t f a a -&gt; ProPost t f a b
</span><a href="#local-6989586621679637495"><span class="hs-identifier hs-var hs-var hs-var hs-var">invmap</span></a></span></span><span> </span><span id="local-6989586621679637494"><span class="annot"><span class="annottext">f :: a -&gt; b
</span><a href="#local-6989586621679637494"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; ProPost t f a a -&gt; ProPost t f a b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679637494"><span class="hs-identifier hs-var">f</span></a></span></span></span></span><span>
</span><span id="line-603"></span></pre></body></html>