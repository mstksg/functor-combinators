<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- |</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- Module      : Data.Functor.Combinator</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Copyright   : (c) Justin Le 2019</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- License     : BSD3</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer  : justin@jle.im</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability   : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Portability : non-portable</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Functor combinators and tools (typeclasses and utiility functions) to</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- manipulate them.  This is the main &quot;entrypoint&quot; of the library.</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Classes include:</span><span>
</span><span id="line-14"></span><span class="hs-comment">--</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- *  'HFunctor' and 'HBifunctor', used to swap out the functors that the</span><span>
</span><span id="line-16"></span><span class="hs-comment">--    combinators modify</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- *  'Interpret', 'Associative', 'Tensor', used to inject and interpret</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- functor values with respect to their combinators.</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- We have some helpful utility functions, as well, built on top of these</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- typeclasses.</span><span>
</span><span id="line-22"></span><span class="hs-comment">--</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- The second half of this module exports the various useful functor</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- combinators that can modify functors to add extra functionality, or join</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- two functors together and mix them in different ways.  Use them to build</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- your final structure by combining simpler ones in composable ways!</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- See &lt;https://blog.jle.im/entry/functor-combinatorpedia.html&gt; and the</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- README for a tutorial and a rundown on each different functor</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- combinator.</span><span>
</span><span id="line-31"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Functor.Combinator</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Classes</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-comment">-- | A lot of type signatures are stated in terms of '~&gt;'.  '~&gt;'</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-comment">-- represents a &quot;natural transformation&quot; between two functors: a value of</span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-comment">-- type @f '~&gt;' g@ is a value of type 'f a -&gt; g a@ that works for /any/</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-comment">-- @a@.</span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-keyword">type</span><span> </span><span class="annot"><span class="hs-operator">(~&gt;)</span></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Control.Natural.IsoF.html#%3C~%3E"><span class="hs-operator">(&lt;~&gt;)</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Single Functors</span></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-comment">-- | Classes that deal with single-functor combinators, that enhance</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-comment">-- a single functor.</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HFunctor"><span class="hs-identifier">HFunctor</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#Inject"><span class="hs-identifier">Inject</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#Interpret"><span class="hs-identifier">Interpret</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#forI"><span class="hs-identifier">forI</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#iget"><span class="hs-identifier">iget</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#icollect"><span class="hs-identifier">icollect</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#icollect1"><span class="hs-identifier">icollect1</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#iapply"><span class="hs-identifier">iapply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#ifanout"><span class="hs-identifier">ifanout</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#ifanout1"><span class="hs-identifier">ifanout1</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#getI"><span class="hs-identifier">getI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#collectI"><span class="hs-identifier">collectI</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#injectMap"><span class="hs-identifier">injectMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#injectContramap"><span class="hs-identifier">injectContramap</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Interpret.html#AltConst"><span class="hs-identifier">AltConst</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** 'HTraversable'</span></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable"><span class="hs-identifier">HTraversable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#hsequence"><span class="hs-identifier">hsequence</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#hfoldMap"><span class="hs-identifier">hfoldMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#htoList"><span class="hs-identifier">htoList</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#HTraversable1"><span class="hs-identifier">HTraversable1</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#hsequence1"><span class="hs-identifier">hsequence1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#hfoldMap1"><span class="hs-identifier">hfoldMap1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.HTraversable.html#htoNonEmpty"><span class="hs-identifier">htoNonEmpty</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Multi-Functors</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-comment">-- | Classes that deal with two-functor combinators, that &quot;mix&quot; two</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-comment">-- functors together in some way.</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#HBifunctor"><span class="hs-identifier">HBifunctor</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Associative</span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#Associative"><span class="hs-identifier">Associative</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#SemigroupIn"><span class="hs-identifier">SemigroupIn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#biget"><span class="hs-identifier">biget</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#biapply"><span class="hs-identifier">biapply</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-comment">-- , biget, bicollect, bicollect1</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#%21%2A%21"><span class="hs-operator">(!*!)</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#%21%2B%21"><span class="hs-operator">(!+!)</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Associative.html#%21%24%21"><span class="hs-operator">(!$!)</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-comment">-- *** Tensor</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.Internal.html#Tensor"><span class="hs-identifier">Tensor</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#MonoidIn"><span class="hs-identifier">MonoidIn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.Internal.html#nilLB"><span class="hs-identifier">nilLB</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.Internal.html#consLB"><span class="hs-identifier">consLB</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#inL"><span class="hs-identifier">inL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#inR"><span class="hs-identifier">inR</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#outL"><span class="hs-identifier">outL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#outR"><span class="hs-identifier">outR</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Combinators</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-comment">-- | Functor combinators</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-comment">-- ** Single</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Coyoneda</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.ListF.html#ListF"><span class="hs-identifier">ListF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.ListF.html#NonEmptyF"><span class="hs-identifier">NonEmptyF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.ListF.html#MaybeF"><span class="hs-identifier">MaybeF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.ListF.html#MapF"><span class="hs-identifier">MapF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.ListF.html#NEMapF"><span class="hs-identifier">NEMapF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Ap</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Apply.Free.html#Ap1"><span class="hs-identifier">Ap1</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Alt</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Church.html#Free"><span class="hs-identifier">Free</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Church.html#Free1"><span class="hs-identifier">Free1</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Lift</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.Step.html#Step"><span class="hs-identifier">Step</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.Step.html#Steps"><span class="hs-identifier">Steps</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#ProxyF"><span class="hs-identifier">ProxyF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#ConstF"><span class="hs-identifier">ConstF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">EnvT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ReaderT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.Step.html#Flagged"><span class="hs-identifier">Flagged</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">IdentityT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Applicative.Step.html#Void2"><span class="hs-identifier">Void2</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Final.html#Final"><span class="hs-identifier">Final</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Final.html#FreeOf"><span class="hs-identifier">FreeOf</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ComposeT</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Multi</span></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Day</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:*:)</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#prodOutL"><span class="hs-identifier">prodOutL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.Tensor.html#prodOutR"><span class="hs-identifier">prodOutR</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:+:)</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">V1</span></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">These1</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Invariant.Night.html#Night"><span class="hs-identifier">Night</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Night.html#Not"><span class="hs-identifier">Not</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Night.html#refuted"><span class="hs-identifier">refuted</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Church.html#Comp"><span class="hs-identifier">Comp</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Control.Monad.Freer.Church.html#Comp"><span class="hs-identifier">Comp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Monad.Freer.Church.html#unComp"><span class="hs-identifier">unComp</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.html#LeftF"><span class="hs-identifier">LeftF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HBifunctor.html#RightF"><span class="hs-identifier">RightF</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Combinator Combinators</span></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#HLift"><span class="hs-identifier">HLift</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.html#HFree"><span class="hs-identifier">HFree</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Util</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Natural Transformations</span></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#generalize"><span class="hs-identifier">generalize</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.HFunctor.Internal.html#absorb"><span class="hs-identifier">absorb</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Divisible</span></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Combinator.html#dsum"><span class="hs-identifier">dsum</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html#dsum1"><span class="hs-identifier">dsum1</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Combinator.html#concludeN"><span class="hs-identifier">concludeN</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Functor.Combinator.html#decideN"><span class="hs-identifier">decideN</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Alternative.Free</span></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative.Free</span></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Applicative.Lift</span></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Control.Applicative.ListF.html"><span class="hs-identifier">Control.Applicative.ListF</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Control.Applicative.Step.html"><span class="hs-identifier">Control.Applicative.Step</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Comonad.Trans.Env</span></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Control.Monad.Freer.Church.html"><span class="hs-identifier">Control.Monad.Freer.Church</span></a></span><span>
</span><span id="line-129"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Compose</span></span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Identity</span></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Reader</span></span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Natural</span></span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Control.Natural.IsoF.html"><span class="hs-identifier">Control.Natural.IsoF</span></a></span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Apply.Free.html"><span class="hs-identifier">Data.Functor.Apply.Free</span></a></span><span>
</span><span id="line-135"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-136"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Conclude.html"><span class="hs-identifier">Data.Functor.Contravariant.Conclude</span></a></span><span>
</span><span id="line-137"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Decide.html"><span class="hs-identifier">Data.Functor.Contravariant.Decide</span></a></span><span>
</span><span id="line-138"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Contravariant.Divise.html"><span class="hs-identifier">Data.Functor.Contravariant.Divise</span></a></span><span>
</span><span id="line-139"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant.Divisible</span></span><span>
</span><span id="line-140"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Coyoneda</span></span><span>
</span><span id="line-141"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.Day</span></span><span>
</span><span id="line-142"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.Functor.Invariant.Night.html"><span class="hs-identifier">Data.Functor.Invariant.Night</span></a></span><span>
</span><span id="line-143"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Functor.These</span></span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HBifunctor.html"><span class="hs-identifier">Data.HBifunctor</span></a></span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HBifunctor.Associative.html"><span class="hs-identifier">Data.HBifunctor.Associative</span></a></span><span>
</span><span id="line-146"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HBifunctor.Tensor.html"><span class="hs-identifier">Data.HBifunctor.Tensor</span></a></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.html"><span class="hs-identifier">Data.HFunctor</span></a></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.Final.html"><span class="hs-identifier">Data.HFunctor.Final</span></a></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.HTraversable.html"><span class="hs-identifier">Data.HFunctor.HTraversable</span></a></span><span>
</span><span id="line-150"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.Internal.html"><span class="hs-identifier">Data.HFunctor.Internal</span></a></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Data.HFunctor.Interpret.html"><span class="hs-identifier">Data.HFunctor.Interpret</span></a></span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.SOP</span></span><span>                             </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SOP</span></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-comment">-- | Convenient helper function to build up a 'Divisible' by splitting</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- input across many different @f a@s.  Most useful when used alongside</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- 'contramap':</span><span>
</span><span id="line-159"></span><span class="hs-comment">--</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- dsum [</span><span>
</span><span id="line-162"></span><span class="hs-comment">--     contramap get1 x</span><span>
</span><span id="line-163"></span><span class="hs-comment">--   , contramap get2 y</span><span>
</span><span id="line-164"></span><span class="hs-comment">--   , contramap get3 z</span><span>
</span><span id="line-165"></span><span class="hs-comment">--   ]</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-167"></span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- @since 0.3.3.0</span><span>
</span><span id="line-169"></span><span id="local-6989586621679637349"><span id="local-6989586621679637350"><span id="local-6989586621679637351"><span class="annot"><a href="Data.Functor.Combinator.html#dsum"><span class="hs-identifier hs-type">dsum</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679637351"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Divisible</span></span><span> </span><span class="annot"><a href="#local-6989586621679637350"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637351"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637350"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637349"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637350"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637349"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-173"></span><span id="dsum"><span class="annot"><span class="annottext">dsum :: t (f a) -&gt; f a
</span><a href="Data.Functor.Combinator.html#dsum"><span class="hs-identifier hs-var hs-var">dsum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f a -&gt; f a) -&gt; f a -&gt; t (f a) -&gt; f a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; (a, a)) -&gt; f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b c.
Divisible f =&gt;
(a -&gt; (b, c)) -&gt; f b -&gt; f c -&gt; f a
</span><span class="hs-identifier hs-var">divide</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679637346"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679637346"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679637346"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679637346"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
forall (f :: * -&gt; *) a. Divisible f =&gt; f a
</span><span class="hs-identifier hs-var">conquer</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | Convenient helper function to build up a 'Conclude' by providing</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- each component of it.  This makes it much easier to build up longer</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- chains as opposed to nested calls to 'decide' and manually peeling off</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- eithers one-by-one.</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- For example, if you had a data type</span><span>
</span><span id="line-181"></span><span class="hs-comment">--</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- data MyType = MTI Int | MTB Bool | MTS String</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-185"></span><span class="hs-comment">--</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- and a contravariant consumer @Builder@ (representing, say, a way to</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- serialize an item, where @intBuilder :: Builder Int@ is a serializer of</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- 'Int's), then you could assemble a serializer a @MyType@ using:</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- contramap (\case MTI x -&gt; Z (I x); MTB y -&gt; S (Z (I y)); MTS z -&gt; S (S (Z (I z)))) $</span><span>
</span><span id="line-192"></span><span class="hs-comment">--   concludeN $ intBuilder</span><span>
</span><span id="line-193"></span><span class="hs-comment">--            :* boolBuilder</span><span>
</span><span id="line-194"></span><span class="hs-comment">--            :* stringBuilder</span><span>
</span><span id="line-195"></span><span class="hs-comment">--            :* Nil</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-197"></span><span class="hs-comment">--</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- Some notes on usefulness depending on how many components you have:</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- *    If you have 0 components, use 'conclude'.</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- *    If you have 1 component, use 'inject' directly.</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- *    If you have 2 components, use 'decide' directly.</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- *    If you have 3 or more components, these combinators may be useful;</span><span>
</span><span id="line-204"></span><span class="hs-comment">--      otherwise you'd need to manually peel off eithers one-by-one.</span><span>
</span><span id="line-205"></span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- @since 0.3.0.0</span><span>
</span><span id="line-207"></span><span id="local-6989586621679637459"><span id="local-6989586621679637460"><span class="annot"><a href="Data.Functor.Combinator.html#concludeN"><span class="hs-identifier hs-type">concludeN</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Conclude.html#Conclude"><span class="hs-identifier hs-type">Conclude</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637460"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.NP</span></span><span> </span><span class="annot"><a href="#local-6989586621679637460"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637459"><span class="hs-keyword hs-type">as</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637460"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SOP.NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.I</span></span><span> </span><span class="annot"><a href="#local-6989586621679637459"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-211"></span><span id="concludeN"><span class="annot"><span class="annottext">concludeN :: NP f as -&gt; f (NS I as)
</span><a href="Data.Functor.Combinator.html#concludeN"><span class="hs-identifier hs-var hs-var">concludeN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">SOP.Nil</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(NS I as -&gt; Void) -&gt; f (NS I as)
forall (f :: * -&gt; *) a. Conclude f =&gt; (a -&gt; Void) -&gt; f a
</span><a href="Data.Functor.Contravariant.Conclude.html#conclude"><span class="hs-identifier hs-var">conclude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621679637342"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637342"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">SOP.:*</span></span><span> </span><span id="local-6989586621679637340"><span class="annot"><span class="annottext">xs :: NP f xs
</span><a href="#local-6989586621679637340"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(NS I as -&gt; Either x (NS I xs))
-&gt; f x -&gt; f (NS I xs) -&gt; f (NS I as)
forall (f :: * -&gt; *) a b c.
Decide f =&gt;
(a -&gt; Either b c) -&gt; f b -&gt; f c -&gt; f a
</span><a href="Data.Functor.Contravariant.Decide.html#decide"><span class="hs-identifier hs-var">decide</span></a></span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.Z</span></span><span> </span><span id="local-6989586621679637337"><span class="annot"><span class="annottext">y :: I x
</span><a href="#local-6989586621679637337"><span class="hs-identifier hs-var">y</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; Either x (NS I xs)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">I x -&gt; x
forall a. I a -&gt; a
</span><span class="hs-identifier hs-var">SOP.unI</span></span><span> </span><span class="annot"><span class="annottext">I x
I x
</span><a href="#local-6989586621679637337"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.S</span></span><span> </span><span id="local-6989586621679637334"><span class="annot"><span class="annottext">ys :: NS I xs
</span><a href="#local-6989586621679637334"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS I xs -&gt; Either x (NS I xs)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679637334"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>      </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637342"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-216"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NP f xs -&gt; f (NS I xs)
forall (f :: * -&gt; *) (as :: [*]).
Conclude f =&gt;
NP f as -&gt; f (NS I as)
</span><a href="Data.Functor.Combinator.html#concludeN"><span class="hs-identifier hs-var">concludeN</span></a></span><span> </span><span class="annot"><span class="annottext">NP f xs
</span><a href="#local-6989586621679637340"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | A version of 'concludeN' that works for non-empty 'SOP.NP'/'SOP.NS',</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- and so only requires a 'Decide' constraint.</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- @since 0.3.0.0</span><span>
</span><span id="line-222"></span><span id="local-6989586621679637437"><span id="local-6989586621679637438"><span id="local-6989586621679637439"><span class="annot"><a href="Data.Functor.Combinator.html#decideN"><span class="hs-identifier hs-type">decideN</span></a></span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Functor.Contravariant.Decide.html#Decide"><span class="hs-identifier hs-type">Decide</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679637439"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.NP</span></span><span> </span><span class="annot"><a href="#local-6989586621679637439"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679637437"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679637439"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SOP.NS</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.I</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679637438"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">'</span><span class="hs-glyph">:</span><span> </span><span class="annot"><a href="#local-6989586621679637437"><span class="hs-keyword hs-type">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-226"></span><span id="decideN"><span class="annot"><span class="annottext">decideN :: NP f (a : as) -&gt; f (NS I (a : as))
</span><a href="Data.Functor.Combinator.html#decideN"><span class="hs-identifier hs-var hs-var">decideN</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-227"></span><span>    </span><span id="local-6989586621679637333"><span class="annot"><span class="annottext">x :: f x
</span><a href="#local-6989586621679637333"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">SOP.:*</span></span><span> </span><span id="local-6989586621679637332"><span class="annot"><span class="annottext">xs :: NP f xs
</span><a href="#local-6989586621679637332"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NP f xs
</span><a href="#local-6989586621679637332"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">SOP.Nil</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(NS I '[x] -&gt; x) -&gt; f x -&gt; f (NS I '[x])
forall (f :: * -&gt; *) a b. Contravariant f =&gt; (a -&gt; b) -&gt; f b -&gt; f a
</span><span class="hs-identifier hs-var">contramap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">I x -&gt; x
forall a. I a -&gt; a
</span><span class="hs-identifier hs-var">SOP.unI</span></span><span> </span><span class="annot"><span class="annottext">(I x -&gt; x) -&gt; (NS I '[x] -&gt; I x) -&gt; NS I '[x] -&gt; x
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">NS I '[x] -&gt; I x
forall k (f :: k -&gt; *) (x :: k). NS f '[x] -&gt; f x
</span><span class="hs-identifier hs-var">SOP.unZ</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637333"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-229"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-operator hs-type">SOP.:*</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(NS I (a : as) -&gt; Either x (NS I (x : xs)))
-&gt; f x -&gt; f (NS I (x : xs)) -&gt; f (NS I (a : as))
forall (f :: * -&gt; *) a b c.
Decide f =&gt;
(a -&gt; Either b c) -&gt; f b -&gt; f c -&gt; f a
</span><a href="Data.Functor.Contravariant.Decide.html#decide"><span class="hs-identifier hs-var">decide</span></a></span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.Z</span></span><span> </span><span id="local-6989586621679637328"><span class="annot"><span class="annottext">z :: I x
</span><a href="#local-6989586621679637328"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">x -&gt; Either x (NS I (x : xs))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">I x -&gt; x
forall a. I a -&gt; a
</span><span class="hs-identifier hs-var">SOP.unI</span></span><span> </span><span class="annot"><span class="annottext">I x
I x
</span><a href="#local-6989586621679637328"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SOP.S</span></span><span> </span><span id="local-6989586621679637327"><span class="annot"><span class="annottext">zs :: NS I xs
</span><a href="#local-6989586621679637327"><span class="hs-identifier hs-var">zs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NS I xs -&gt; Either x (NS I xs)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">NS I xs
</span><a href="#local-6989586621679637327"><span class="hs-identifier hs-var">zs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><span class="annottext">f x
</span><a href="#local-6989586621679637333"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-232"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NP f (x : xs) -&gt; f (NS I (x : xs))
forall (f :: * -&gt; *) a (as :: [*]).
Decide f =&gt;
NP f (a : as) -&gt; f (NS I (a : as))
</span><a href="Data.Functor.Combinator.html#decideN"><span class="hs-identifier hs-var">decideN</span></a></span><span> </span><span class="annot"><span class="annottext">NP f xs
NP f (x : xs)
</span><a href="#local-6989586621679637332"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span></pre></body></html>